<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Shawlon`s Blog</title>
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
  <link rel="stylesheet" href="/css/style.css">
<style type="text/css" lang="css">
    #loading-container{
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center;
        /* loaderҳ����ʧ���ý����ķ�ʽ*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }
    .loading-image{
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }

    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }

   .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }
    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }
    @-webkit-keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @-webkit-keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @-webkit-keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}

    @keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}


    .loading-image div:nth-child(3),
    .loading-image div:nth-child(4),
    .loading-image div:nth-child(5),
    .loading-image div:nth-child(6){
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }
    .loading-text{
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    @media only screen and (max-width: 500px) {
         .loading-text{
            font-size: 1.5rem;
         }
    }
    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }
    /* logo���ֶ��� */
    @-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}
    @keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);}}
 </style>
 <script>
(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//ʹ�ý����ķ�������loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1000); 
        },1000);//ǿ����ʾloading page 1s  
    };
    loaded();
})()
 </script><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><style type="text/css" lang="css">
    #loading-container{
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center;
        /* loaderҳ����ʧ���ý����ķ�ʽ*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }
    .loading-image{
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }

    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }

   .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }
    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }
    @-webkit-keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @-webkit-keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @-webkit-keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}

    @keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}


    .loading-image div:nth-child(3),
    .loading-image div:nth-child(4),
    .loading-image div:nth-child(5),
    .loading-image div:nth-child(6){
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }
    .loading-text{
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    @media only screen and (max-width: 500px) {
         .loading-text{
            font-size: 1.5rem;
         }
    }
    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }
    /* logo���ֶ��� */
    @-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}
    @keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);}}
 </style>
 <script>
(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//ʹ�ý����ķ�������loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1000); 
        },1000);//ǿ����ʾloading page 1s  
    };
    loaded();
})()
 </script></head>


 <div id="loading-container">
     <p class="loading-text"></p> 
     <div class="loading-image">
         <div></div>
         <div></div>
         <div></div>
         <div></div> 
         <div></div>
     </div>
 </div><body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url()">
        </div>
    </section>
    <section class='menu'>
        <div>Shawlon`s Blog</div>
        
            <div>Yshawlon</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <ul class="Index">
  
    <header class='PageTitle'>
        <h1>{ CentOS }</h1>
    </header>
  
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/linux-wang-luo-she-zhi-centos-you-nat-mo-shi-gai-wei-qiao-jie-mo-shi.html">Linux网络设置-CentOS由NAT模式改为桥接模式</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2020-04-02T11:09:28.000Z" itemprop="datePublished">
    2020-04-02
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/CentOS/">CentOS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/NAT/">NAT</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Bridged/">Bridged</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/Linux/">Linux</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>Linux版本：<code>CentOS</code></p>
<p>CentOS发行版本：<code>CentOS 8.1</code></p>
<p>虚拟机：<code>VMware</code></p>
<p>在前面CentOS 8.1安装教程中关于网络配置我们默认使用的是NAT模式，这篇文章主要记录将我们的Linux网络设置由NAT模式改为桥接模式（Bridged）。</p>
<p>需要安装CentOS的朋友可以可以看这篇文章：</p>
<p><a href="https://muyiio.com/2020/03/05/vmware-an-zhuang-centos-8-1-wan-zheng-jiao-cheng/" target="_blank" rel="noopener">VMware 安装 CentOS 8.1 完整教程</a></p>
<h2 id="1】NAT与Bridged区别"><a href="#1】NAT与Bridged区别" class="headerlink" title="1】NAT与Bridged区别"></a>1】NAT与Bridged区别</h2><ul>
<li><strong>NAT(网络地址转换模式)</strong></li>
</ul>
<p>虚拟机要联网得先通过宿主机才能和外面进行通信。</p>
<p>NAT模式下的虚拟系统的TCP/IP配置信息是由VMnet8(NAT)虚拟网络的DHCP服务器提供的，无法进行手工修改，因此虚拟系统也就无法和本局域网中的其他真实主机进行通讯。使得虚拟局域网内的虚拟机在对外访问时，使用的则是宿主机的IP地址，这样从外部网络来  看，只能看到宿主机，完全看不到新建的虚拟局域网。就是虚拟系统会通过宿主机的网络来访问外网，而这里的宿主机相当于有两个网卡，一个是真实网卡，一个是虚拟网卡，真实网卡相当于链接了现实世界的真实路由器，而宿主机的虚拟网卡，相当于连接了一个可以认为是虚拟交换机。</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/1.png" alt></p>
<p><strong>虚拟机可以上网可以ping通主机，但是主机ping不通虚拟机。</strong></p>
<ul>
<li><strong>Bridged(桥接模式)</strong></li>
</ul>
<p>虚拟机和宿主机在网络上就是平级的关系，相当于连接在同一交换机上。</p>
<p>需要手工为虚拟系统配置IP地址、子网掩码，而且还要和宿主机器处于同一网段，这样虚拟系统才能和宿主机器进行通信。以实现通过局域网的网关或路由器访问互联网。使用bridged模式的虚拟系统和宿主机器的关系，就像连接在同一个Hub上的两台电脑。相当于在一个局域网内创立了一个单独的主机，他可以访问这个局域网内的所有的主机，但是需要手动来配置IP地址，子网掩码，并且他是和真实主机在同一个网段（nat是两个网段）.</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/2.png" alt></p>
<p><strong>这个模式里，虚拟机和宿主机可以互相ping通。</strong></p>
<h2 id="3】虚拟机网络设置"><a href="#3】虚拟机网络设置" class="headerlink" title="3】虚拟机网络设置"></a>3】虚拟机网络设置</h2><p><strong>右键点击以管理员身份打开VMware，找到要更改网络的虚拟机。</strong></p>
<ul>
<li>点击左上角【编辑虚拟机设置】→【网络适配器】→选择【桥接模式】，并勾选【复制物理网络连接状】态</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/3.png" alt></p>
<ul>
<li>点击左上角【编辑E】→【虚拟网络编辑器】</li>
</ul>
<blockquote>
<p> VMnet0、VMnet1、VMnet8，分别对应了桥接模式、仅主机模式、NAT模式。</p>
</blockquote>
<p><strong>选择【VMnet0】→【已桥接至】选择当前电脑连接的网络→【确定】</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/4.png" alt></p>
<h2 id="3】CentOS网络设置"><a href="#3】CentOS网络设置" class="headerlink" title="3】CentOS网络设置"></a>3】CentOS网络设置</h2><ul>
<li>查看自己电脑的IP网段（Win+R输入cmd再输入ipconfig）</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/5.png" alt></p>
<p><strong>将 IPv4 地址、子网掩码 、默认网关保存后面用到。</strong></p>
<ul>
<li>打开虚拟机，以root账户登录CentOS</li>
</ul>
<p>1.由于我安装了图形界面，登录是这样：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/6.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/7.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/8.png" alt></p>
<p>说明：<strong>倘若没有设置root账户，但登录的账户yyo拥有root权限，那就直接登陆。</strong></p>
<p>2.没有安装图形界面登录简单一些，我就不演示了。</p>
<ul>
<li>获取权限</li>
</ul>
<pre><code>sudo -i</code></pre><ul>
<li>编辑配置ip地址信息文件（使用vi打开，CentOS自带vi）</li>
</ul>
<pre><code>vi /etc/sysconfig/network-scripts/ifcfg-ens33</code></pre><p>可以看到我们的网络配置文件：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/9.png" alt></p>
<p><strong>按<code>i</code>进入编辑，按<code>方向键</code>移动</strong></p>
<p>修改这两个值：</p>
<pre><code>BOOTPROTO=static       #设置为手动分配IP地址
ONBOOT=yes</code></pre><p>在<code>ONBOOT=yes</code>后面增加四个值（上面我们保存的ip）：</p>
<pre><code>IPADDR=192.168.0.107   # 配置为局域网固定IP(IPv4 地址)
NETMASK=255.255.255.0  # 配置子网掩码
GATEWAY=192.168.0.1    # 配置局域网网关
DNS1=8.8.8.8           # 配置首选DNS，8.8.8.8为免费DNS服务器的IP地址</code></pre><p><strong>编辑完成后按<code>esc</code>退出，再按<code>:wq</code>保存（如果无法保存，就按<code>:wq！</code>强制保存）</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/10.png" alt></p>
<ul>
<li>接下来修改第二个配置，输入下面这个命令</li>
</ul>
<pre><code>vi /etc/sysconfig/network</code></pre><p>增加这四个配置：</p>
<p><strong>按<code>i</code>进入编辑，按<code>方向键</code>移动</strong></p>
<pre><code>NETWORKING=yes
NETWORKING_IPV6=no            #关掉IPv6
HOSTNAME=localhost.localdomain
GATEWAY=192.168.0.1           #默认网关地址</code></pre><p><strong>编辑完成后按<code>esc</code>退出，再按<code>:wq</code>保存</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/11.png" alt></p>
<ul>
<li>启动network服务,输入下面这个命令</li>
</ul>
<pre><code>service network restart</code></pre><p><strong>使用CentOS 8.x 版本的就会有问题了，8以下的版本到这里就可以结束了。</strong></p>
<p>事实上并没有启动network服务，而是：</p>
<pre><code>Redirecting to /bin/systemctl reatart network.service
Failed to restart network.service: Unit network.service not found</code></pre><p><strong>查了很多资料才发现centos 8.x 已经替换了原来的network, 新版的叫：NetworkManager，下面给出解决办法</strong></p>
<ul>
<li>首先安装NetworkManager</li>
</ul>
<pre><code>yum install NetworkManager*</code></pre><p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/12.png" alt></p>
<ul>
<li>启动NetworkManager</li>
</ul>
<pre><code>service NetworkManager restart</code></pre><ul>
<li>开启NetworkManager网络服务</li>
</ul>
<pre><code>systemctl status NetworkManager</code></pre><p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/13.png" alt></p>
<h2 id="4】验证网络"><a href="#4】验证网络" class="headerlink" title="4】验证网络"></a>4】验证网络</h2><ul>
<li>在Windows终端ping我们CentOS的IP：192.168.0.107，可以正常通信。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/14.png" alt></p>
<ul>
<li>在CentOS验证一下，也是完全🆗</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/15.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.8/Images/posts/NAT%E6%A8%A1%E5%BC%8F%E6%94%B9%E4%B8%BA%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/16.png" alt></p>
<p><strong>一番折腾下来，花费了不少时间，尤其是NetworkManager那里，都不想写这篇文章了，但是又想解决这个困难，希望对有需要朋友的有点帮助！</strong></p>
<p>参考：</p>
<p><a href="https://blog.csdn.net/YXWik/article/details/103163492" target="_blank" rel="noopener">centos7输入systemctl status network.service出现Unit network.service could not be found的解决办法</a></p>
<p><a href="https://blog.csdn.net/qq_40162735/article/details/101780012" target="_blank" rel="noopener">Failed to restart network.service: Unit network.service not found</a></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/vmware-an-zhuang-centos-8-1-wan-zheng-jiao-cheng.html">VMware 安装 CentOS 8.1 完整教程 </a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2020-03-05T10:29:16.000Z" itemprop="datePublished">
    2020-03-05
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/CentOS/">CentOS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/VMware/">VMware</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/Linux/">Linux</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>我使用的<font color="red" size="3">VMware</font>版本：<font color="red" size="3">VMware 15 Pro</font></p>
<p>镜像：<font color="red" size="3">CentOS 8.1</font></p>
<p><strong>电脑配置需求：</strong></p>
<ul>
<li><font color="red" size="3">2 GB</font> 及以上的<font color="red" size="3">RAM</font>（官方推荐至少<font color="red" size="3">4G</font>）</li>
<li><font color="red" size="3">2 GHz </font>或以上的 <font color="red" size="3">CPU</font></li>
<li><font color="red" size="3">64 </font>位 <font color="red" size="3">x86</font> 架构</li>
<li><font color="red" size="3">20 GB </font>及以上硬盘空间</li>
</ul>
<p><strong>关于CentOS 8.1</strong></p>
<ul>
<li>基于Linux 4.18</li>
<li>提供 PHP 7.2、Python 3.6、Ansible 2.8、VIM 8.0 和 Squid 4</li>
<li>使用网络管理器（nmcli 和 nmtui）进行网络配置，移除了网络脚本<br>通过 BaseOS 和应用流(AppStream)仓库发布.</li>
<li>AppStream 是对传统rpm格式的全新扩展，为一个组件同时提供多个主要版本</li>
<li>YUM 包管理器基于 DNF 技术，提供模块化内容支持，增强了性能，并且提供了设计良好的API用于与其他工具集成</li>
<li>RHEL 8提供了版本控制工具: Git 2.18, Mercurial 4.8,和 Subversion 1.10.</li>
</ul>
<blockquote>
<p>内核实时修补；称为 FRR 的新路由协议堆栈（支持多种 IPv4 和 IPv6 路由协议）；伯克利数据包筛选器（eBPF）的扩展版本，可帮助系统管理员解决复杂的网络问题；支持在使用设备时对 LUKS2 中的块设备进行重新加密；此外，还提供了一种用于为容器生成 SELinux 策略的新工具 udica.</p>
</blockquote>
<p><font color="red" size="3">CentOS 8</font>系列增加了许多新特性，<font color="red" size="3">CentOS 8.1</font>相当于它的第二个发行版本，我这里就不列出了，具体可以看官方文档：</p>
<p><a href="https://wiki.centos.org/zh/Manuals/ReleaseNotes/CentOS8.1905#A.2BbpBO43gB-" target="_blank" rel="noopener">CentOS 官网文档手册</a></p>
<p><a href="https://www.cnblogs.com/RXDXB/p/11660287.html" target="_blank" rel="noopener">Centos8与Centos7区别参照redhat）</a></p>
<h1 id="一、准备过程"><a href="#一、准备过程" class="headerlink" title="一、准备过程"></a>一、准备过程</h1><p>目前比较流行的两款虚拟机软件 <font color="red" size="3">VMware</font> 、<font color="red" size="3">VirtualBox</font>，<font color="red" size="3">VirtualBox</font>安装<font color="red" size="3">CentOS 8</font>系列目前还有很多<font color="red" size="3">Bug</font>，推荐使用<font color="red" size="3">VMware</font>。</p>
<p>1.安装<font color="red" size="3">VMware</font></p>
<p>如果你还没有安装虚拟机，进入<a href="https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html" title="VMware" target="_blank" rel="noopener">VMware官网</a>下载相应版本安装即可：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/01.png" alt></p>
<p>官网下载过程可能有点慢，这里安装过程我就不赘述了。</p>
<p>2.下载<font color="red" size="3">CentOS 8.1</font>镜像资源</p>
<p>进入<a href="http://mirrors.huaweicloud.com/centos/8.1.1911/isos/x86_64/CentOS-8.1.1911-x86_64-dvd1.iso" title="CentOS" target="_blank" rel="noopener">CentOS官网</a>下载<font color="red" size="3">CentOS 8.1</font>镜像，我这里给的是在华为云的，下载速度还是可以。</p>
<h1 id="二、创建虚拟机"><a href="#二、创建虚拟机" class="headerlink" title="二、创建虚拟机"></a>二、创建虚拟机</h1><p>1.打开<font color="red" size="3">VMware</font>，点击创建新的虚拟机：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/02.png" alt></p>
<p>2.点击自定义（高级）：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/03.png" alt></p>
<p>3.这一步直接默认就可以：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/04.png" alt></p>
<p>4.选择稍后安装操作系统：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/05.png" alt></p>
<p>5.选择<font color="red" size="3">Linux</font>，版本选择<font color="red" size="3">Linux 4 ×64位</font>，因为<font color="red" size="3">CentOS 8</font>系列基于<font color="red" size="3"> Linux</font> 内核<font color="red" size="3"> 4.18</font>：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/06.png" alt></p>
<p>6.虚拟机名称随便，安装位置看自己电脑配置吧，建议安装在<font color="red" size="3">D</font>盘：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/07.png" alt></p>
<p>7.处理器数量根据自己电脑来配置，反正不够后面可以更改，要安装图形界面的话可以填大一点，新手就这个配置也可以了：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/08.png" alt></p>
<p>8.内存大小根据自己电脑适当配置，我的电脑内存<font color="red" size="3">16G</font>，所以我给它分配<font color="red" size="3">4G</font>，要安装图形界面的话可以填大一点：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/09.png" alt></p>
<p>9.设置虚拟机网络连接模式（<font color="red" size="3">NAT</font>）：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/10.png" alt></p>
<p><strong>关于网络连接模式说明：</strong></p>
<ul>
<li><p>桥接：选择桥接模式的话虚拟机和宿主机在网络上就是平级的关系，相当于连接在同一交换机上。</p>
</li>
<li><p>NAT：NAT模式就是虚拟机要联网得先通过宿主机才能和外面进行通信。</p>
</li>
<li><p>仅主机：虚拟机与宿主机直接连起来</p>
</li>
</ul>
<p>10.选择<font color="red" size="3">I/O</font>控制器类型，然后下一步：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/11.png" alt></p>
<p>11.选择磁盘类型：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/12.png" alt></p>
<p>12.选择创建新虚拟磁盘，然后下一步：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/13.png" alt></p>
<p>13.根据自己的需要分配磁盘容量，勾选将虚拟磁盘拆分成多个文件（方便以后将虚拟机拷贝到设备），然后下一步：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/14.png" alt></p>
<p>14.根据自己需要指定磁盘文件存储位置，我放在D盘：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/15.png" alt></p>
<p>15.到这里虚拟机就创建完成了，可以点击自定义硬件更改配置，点击完成创建成功：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/16.png" alt></p>
<h1 id="三、安装CentOS-8-1"><a href="#三、安装CentOS-8-1" class="headerlink" title="三、安装CentOS 8.1"></a>三、安装CentOS 8.1</h1><p>1.点击编辑虚拟机设置：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/17.png" alt></p>
<p>2.选择<font color="red" size="3">CD/DVD</font>，勾选启动时连接，再选择使用ISO映像文件，找到下载好的系统镜像文件添加进去，最后确定：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/18.png" alt></p>
<p>3.开启此虚拟机：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/19.png" alt></p>
<p>4.开启虚拟机后会出现以下界面，鼠标点进黑窗口，使用键盘方向键选择第一项，安装<font color="red" size="3">CentOS 8</font>，回车，系统开始自动安装</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/20.png" alt></p>
<p>5.安装完成后选择语言，根据自己情况选择，然后点击继续：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/21.png" alt></p>
<p>6.首先打开网络和主机名，给虚拟机连上网络：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/22.png" alt></p>
<p><strong>如果网络连接不上，多半是<font color="red" size="3">DHCP</font>问题，解决办法：</strong></p>
<p><a href="https://blog.csdn.net/suoyudong/article/details/83037670" target="_blank" rel="noopener">解决安装centos 过程中以太网连接不上网络，不能自动分配ip的问题</a> (By 索渝东)</p>
<p>7.点击时间和日期，设置系统时间并更改时区(打开网络时间)：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/23.png" alt></p>
<p>8.选择安装目的地：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/24.png" alt></p>
<p>9.选择自定义配置，点击完成：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/25.png" alt></p>
<p>10.添加磁盘分区</p>
<p><font color="red" size="3">Linux</font>的分区，并不像<font color="red" size="3">Windows</font>一样，分成<font color="red" size="3">C、D、E</font>等盘，介绍几个重要的分区：</p>
<ul>
<li>交换分区（swap）：交换分区和Windows的虚拟内存很像。现在内存也便宜，物理服务器的配置也高，以前的说法是一般为物理内存的2倍，现在一般情况下划分为4~8GB备用即可。我们虚拟机的内存是4GB，我们就划8GB吧。</li>
<li>启动分区（boot）：200MB足够了。</li>
<li>根分区（/）：剩余空间都给根分区吧。当然我们也可以单独划出/data分区，专门用来存储存数据，不过这里我们先不这样做，直接全部都给根分区。</li>
</ul>
<p>按照下图顺序依次进行设置：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/26.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/27.png" alt></p>
<p>11.点击完成后会弹出更改摘要页面，点击接受更改：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/28.png" alt></p>
<p>12.点击开始安装：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/29.png" alt></p>
<p>13.设置<font color="red" size="3">ROOT</font>密码：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/30.png" alt></p>
<p>14.点击创建用户，可以把用户设为管理员方便操作，如果密码简单就点击两次完成：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/31.png" alt></p>
<p>15.安装完成后点击重启电脑：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/32.png" alt></p>
<p>16.重启完成后点击<font color="red" size="3">LICENS INFORMATION</font>,勾选同意许可，然后点击完成：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/33.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/34.png" alt></p>
<p>17.点击结束配置：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/35.png" alt></p>
<p>18.来到登录界面，点击未列出，以<font color="red" size="3">root</font>登录，方便后面配置操作：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/36.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/.png" alt></p>
<p><img src="https://muyiio-1300292673.cos.ap-chongqing.myqcloud.com/%E5%8D%9A%E5%AE%A2/_posts/VMware-%E5%AE%89%E8%A3%85-CentOS-8-1-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B/38.png" alt></p>
<p>19.选择语言：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/39.png" alt></p>
<p>选择键盘布局：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/40.png" alt></p>
<p>是否打开位置服务：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/41.png" alt></p>
<p>然后按照需要添加账号，然后就可以进入啦：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/42.png" alt></p>
<p>20.关闭系统使用帮助后，来到我们的<font color="red" size="3">centos8.1</font>桌面，点击活动可以看到系统软件，第一个是内置浏览器，点击最下面可以看到系统所有软件：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/43.png" alt></p>
<p>21.点击右上角折叠按钮可以连接网络，打开浏览器就可以访问啦，如果不能联网，在上面已经给出解决办法：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/44.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/45.png" alt></p>
<p>22.右上角有关机按钮，点击就可以关机：</p>
<p><img src="https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.5/Images/posts/%E5%AE%89%E8%A3%85-CentOS-8/46.png" alt></p>
<p>到这里，我们的<font color="red" size="3">CentOS 8 Linux</font> 就算安装完成了，其他<font color="red" size="3">CentOS 8 </font>系列发行版本安装过程类似，可作参考。</p>

      
    </div>
</article>

    </li>
  
</ul>



            <footer>
    <div>© 2024 - Tyzhao </div>
    <div>
        <span>
            Powered by <a href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>
<script src="/js/pager/dist/singlepager.js"></script>
<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>