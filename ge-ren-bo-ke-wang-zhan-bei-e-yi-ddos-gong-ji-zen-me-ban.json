{"title":"个人博客、网站被恶意DDOS攻击怎么办","date":"2020-07-05T15:53:34.000Z","toc":true,"summary":"几天前我的博客遭受DDOS攻击，攻击次数高达85万次，记录一下我处理的过程。","source":"_posts/个人博客、网站被恶意DDOS攻击怎么办.md","raw":"---\ntitle: 个人博客、网站被恶意DDOS攻击怎么办\ntop: false\ncover: false\ntoc: true\nmathjax: true\ndate: 2020-07-05 23:53:34\npassword:\nsummary: 几天前我的博客遭受DDOS攻击，攻击次数高达85万次，记录一下我处理的过程。\ntags: \n- 随笔\ncategories:\n- DDOS\n---\n\n\n\n\n\n**起因**：几天前我的博客遭受DDOS攻击，攻击次数高达85万次，腾讯云COS加CDN欠费400，作为一个小白碰到有点不知所措，所以记录一下我处理的过程。\n\n![](https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/00.png)\n\n\n\n首先，我的网站Page在Github和TencentYun，同时托管在服务器上，之前觉得腾讯云COS够快就没使用GitHub免费图床（付钱还有风险）。\n\n\n\n### 拒绝服务攻击（DDoS）\n\nDDoS(Distributed Denial of Service),即分布式拒绝服务攻击,是目前最为强大、最难以防御的攻击方式之一。要理解DDos,得先从DoS说起。\n\n最基本的DoS攻击就是利用合理的客户端请求来占用过多的服务器资源,从而使合法用户无法得到服务器的响应。DDoS攻击手段是在传统的DoS攻击基础之上产生的一类攻击方式,传统的DoS攻击一般是采用一对一方式的,当攻击目标CPU速度、内存或者网络带宽等等各项性能指标不高的情况下,它的效果是明显的,但随着计算机与网络技术的发展,计算机的处理能力显著增加,内存不断增大,同时也出现了千兆级别的网络,这使得DoS攻击逐渐失去效果。这时候分布式拒绝服务攻击手段(DDoS)便应运而生了。你理解了DoS攻击以后, DDoS的原理就非常简单了,它指的是攻击者借助公共网络,将数量庞大的计算机设备联合起来作为 攻击平台,对一个或多个目标发动攻击,从而达到瘫痪目标主机的目的。通常,在攻击开始前,攻击者会提前控制大量的用户计算机,称之为“肉鸡”,并通过指令使大量的肉鸡在同一时刻对某个主机进行访问,从而达到瘫痪目标主机的目的。\n\nDDoS的攻击有很多种类型,如依赖蛮力的ICMP Flood、UDP Flood等等,随着硬件性能的 提升,需要的机器规模越来越大,组织大规模的攻击越来越困难,现在已经不常见,还有就是依赖协议特征以及具体的软件漏洞进行的攻击,如Slowloris攻击,Hash碰撞攻击等等,这类攻击主要利用协议以及软件漏洞发起攻击,需要在特定环境下才会出现,更多的攻击者采用的是前面两种的混合方式,即利用了协议、系统的缺陷,又具备了海量的流量, 如SYN Flood、DNS Query Flood等等。\n\n\n\n### 这里再说一下另外一种CC攻击\n\nCC(Challenge Collapsar)攻击属于DDos的一种,是基于应用层HTTP协议 发起的DDos攻击,也被称为HTTP Flood。\n\nCC攻击的原理是这样的,攻击者通过控制的大量“肉鸡”或者利用从互联网上搜寻的大量匿名的HTTP代理,模拟正常用户给网站发起请求直到该网站拒绝服务为止。大部分网站会通过CDN以及分布式缓存来加快服务端响应,提升网站的吞吐量,而这些精心构造的HTTP请求往往有意避开这些缓存,需要进行多次DB查询操作或者是一次请求返回大量的数据,加速系统 资源消耗,从而拖垮后端的业务处理系统,甚至连相关存储以及日志收集系统也无法幸免。\n\n\n\n## 1】-\n\n当我知道已经是第二天早上，收到腾讯云的通知，欠费400。让我一个学生措不及防，打开电脑看到COS请求85.8万次，我猜测应该是被攻击了，第一时间找了腾讯云投诉，经过腾讯云技术人员追查是DDOS攻击，查到的IP是美国的\n\n![](https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/01.png)\n\n\n\n\n\n\n\n## 2】-\n\n网上查找解决办法：\n\n1.找12315投诉，但是现在已经不受理这类纠纷。\n\n![](https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/02.png)\n\n2.找网警举报，可能是金额太低，我提交之后一直没有回复。\n\n3.最后只能找客服了，几天的交流才给我补款。\n\n\n![](https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/04.png)\n\n腾讯云坚持不承担损失，只知道让我去找网警去找解决办法，我倒是不明白到底谁是用户了。口口声声说是我没有设置好安全防护，腾讯云作为产品的提供方，并没有将产品Bug完善，那么谁应该承担？\n\n**腾讯云客服以我没有设置防盗链为由，并不承担损失。总的来说，不管设置阈值预警还是防盗链，都不能完全阻止网站被盗刷，那么我设置也就没有多大意义。次数少的攻击可以阻挡，但是上万的攻击就没用了，因为就算网站返回404页面也会产生流量，攻击次数多产生的流量就多了。**\n\n\n##3】-\n\n最后给我补款：\n\n![](https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/05.png)\n\n不管是阿里云还是其他平台CDN盗刷，都是可以退款，前提是不是自己蓄意而为。\n\n**总结：**吃一堑长一智，建议做好网站的安全防护不给坏人可乘之机！","slug":"个人博客、网站被恶意DDOS攻击怎么办","published":true,"updated":"2021-02-19T15:35:27.005Z","_id":"clq6dy4a00027ikw0evad2ofb","comments":true,"layout":"post","photos":[],"link":"","html":"<p><strong>起因</strong>：几天前我的博客遭受DDOS攻击，攻击次数高达85万次，腾讯云COS加CDN欠费400，作为一个小白碰到有点不知所措，所以记录一下我处理的过程。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/00.png\" alt></p>\n<p>首先，我的网站Page在Github和TencentYun，同时托管在服务器上，之前觉得腾讯云COS够快就没使用GitHub免费图床（付钱还有风险）。</p>\n<h3 id=\"拒绝服务攻击（DDoS）\"><a href=\"#拒绝服务攻击（DDoS）\" class=\"headerlink\" title=\"拒绝服务攻击（DDoS）\"></a>拒绝服务攻击（DDoS）</h3><p>DDoS(Distributed Denial of Service),即分布式拒绝服务攻击,是目前最为强大、最难以防御的攻击方式之一。要理解DDos,得先从DoS说起。</p>\n<p>最基本的DoS攻击就是利用合理的客户端请求来占用过多的服务器资源,从而使合法用户无法得到服务器的响应。DDoS攻击手段是在传统的DoS攻击基础之上产生的一类攻击方式,传统的DoS攻击一般是采用一对一方式的,当攻击目标CPU速度、内存或者网络带宽等等各项性能指标不高的情况下,它的效果是明显的,但随着计算机与网络技术的发展,计算机的处理能力显著增加,内存不断增大,同时也出现了千兆级别的网络,这使得DoS攻击逐渐失去效果。这时候分布式拒绝服务攻击手段(DDoS)便应运而生了。你理解了DoS攻击以后, DDoS的原理就非常简单了,它指的是攻击者借助公共网络,将数量庞大的计算机设备联合起来作为 攻击平台,对一个或多个目标发动攻击,从而达到瘫痪目标主机的目的。通常,在攻击开始前,攻击者会提前控制大量的用户计算机,称之为“肉鸡”,并通过指令使大量的肉鸡在同一时刻对某个主机进行访问,从而达到瘫痪目标主机的目的。</p>\n<p>DDoS的攻击有很多种类型,如依赖蛮力的ICMP Flood、UDP Flood等等,随着硬件性能的 提升,需要的机器规模越来越大,组织大规模的攻击越来越困难,现在已经不常见,还有就是依赖协议特征以及具体的软件漏洞进行的攻击,如Slowloris攻击,Hash碰撞攻击等等,这类攻击主要利用协议以及软件漏洞发起攻击,需要在特定环境下才会出现,更多的攻击者采用的是前面两种的混合方式,即利用了协议、系统的缺陷,又具备了海量的流量, 如SYN Flood、DNS Query Flood等等。</p>\n<h3 id=\"这里再说一下另外一种CC攻击\"><a href=\"#这里再说一下另外一种CC攻击\" class=\"headerlink\" title=\"这里再说一下另外一种CC攻击\"></a>这里再说一下另外一种CC攻击</h3><p>CC(Challenge Collapsar)攻击属于DDos的一种,是基于应用层HTTP协议 发起的DDos攻击,也被称为HTTP Flood。</p>\n<p>CC攻击的原理是这样的,攻击者通过控制的大量“肉鸡”或者利用从互联网上搜寻的大量匿名的HTTP代理,模拟正常用户给网站发起请求直到该网站拒绝服务为止。大部分网站会通过CDN以及分布式缓存来加快服务端响应,提升网站的吞吐量,而这些精心构造的HTTP请求往往有意避开这些缓存,需要进行多次DB查询操作或者是一次请求返回大量的数据,加速系统 资源消耗,从而拖垮后端的业务处理系统,甚至连相关存储以及日志收集系统也无法幸免。</p>\n<h2 id=\"1】\"><a href=\"#1】\" class=\"headerlink\" title=\"1】-\"></a>1】-</h2><p>当我知道已经是第二天早上，收到腾讯云的通知，欠费400。让我一个学生措不及防，打开电脑看到COS请求85.8万次，我猜测应该是被攻击了，第一时间找了腾讯云投诉，经过腾讯云技术人员追查是DDOS攻击，查到的IP是美国的</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/01.png\" alt></p>\n<h2 id=\"2】\"><a href=\"#2】\" class=\"headerlink\" title=\"2】-\"></a>2】-</h2><p>网上查找解决办法：</p>\n<p>1.找12315投诉，但是现在已经不受理这类纠纷。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/02.png\" alt></p>\n<p>2.找网警举报，可能是金额太低，我提交之后一直没有回复。</p>\n<p>3.最后只能找客服了，几天的交流才给我补款。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/04.png\" alt></p>\n<p>腾讯云坚持不承担损失，只知道让我去找网警去找解决办法，我倒是不明白到底谁是用户了。口口声声说是我没有设置好安全防护，腾讯云作为产品的提供方，并没有将产品Bug完善，那么谁应该承担？</p>\n<p><strong>腾讯云客服以我没有设置防盗链为由，并不承担损失。总的来说，不管设置阈值预警还是防盗链，都不能完全阻止网站被盗刷，那么我设置也就没有多大意义。次数少的攻击可以阻挡，但是上万的攻击就没用了，因为就算网站返回404页面也会产生流量，攻击次数多产生的流量就多了。</strong></p>\n<p>##3】-</p>\n<p>最后给我补款：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/05.png\" alt></p>\n<p>不管是阿里云还是其他平台CDN盗刷，都是可以退款，前提是不是自己蓄意而为。</p>\n<p><strong>总结：</strong>吃一堑长一智，建议做好网站的安全防护不给坏人可乘之机！</p>\n","excerpt":"","more":"<p><strong>起因</strong>：几天前我的博客遭受DDOS攻击，攻击次数高达85万次，腾讯云COS加CDN欠费400，作为一个小白碰到有点不知所措，所以记录一下我处理的过程。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/00.png\" alt></p>\n<p>首先，我的网站Page在Github和TencentYun，同时托管在服务器上，之前觉得腾讯云COS够快就没使用GitHub免费图床（付钱还有风险）。</p>\n<h3 id=\"拒绝服务攻击（DDoS）\"><a href=\"#拒绝服务攻击（DDoS）\" class=\"headerlink\" title=\"拒绝服务攻击（DDoS）\"></a>拒绝服务攻击（DDoS）</h3><p>DDoS(Distributed Denial of Service),即分布式拒绝服务攻击,是目前最为强大、最难以防御的攻击方式之一。要理解DDos,得先从DoS说起。</p>\n<p>最基本的DoS攻击就是利用合理的客户端请求来占用过多的服务器资源,从而使合法用户无法得到服务器的响应。DDoS攻击手段是在传统的DoS攻击基础之上产生的一类攻击方式,传统的DoS攻击一般是采用一对一方式的,当攻击目标CPU速度、内存或者网络带宽等等各项性能指标不高的情况下,它的效果是明显的,但随着计算机与网络技术的发展,计算机的处理能力显著增加,内存不断增大,同时也出现了千兆级别的网络,这使得DoS攻击逐渐失去效果。这时候分布式拒绝服务攻击手段(DDoS)便应运而生了。你理解了DoS攻击以后, DDoS的原理就非常简单了,它指的是攻击者借助公共网络,将数量庞大的计算机设备联合起来作为 攻击平台,对一个或多个目标发动攻击,从而达到瘫痪目标主机的目的。通常,在攻击开始前,攻击者会提前控制大量的用户计算机,称之为“肉鸡”,并通过指令使大量的肉鸡在同一时刻对某个主机进行访问,从而达到瘫痪目标主机的目的。</p>\n<p>DDoS的攻击有很多种类型,如依赖蛮力的ICMP Flood、UDP Flood等等,随着硬件性能的 提升,需要的机器规模越来越大,组织大规模的攻击越来越困难,现在已经不常见,还有就是依赖协议特征以及具体的软件漏洞进行的攻击,如Slowloris攻击,Hash碰撞攻击等等,这类攻击主要利用协议以及软件漏洞发起攻击,需要在特定环境下才会出现,更多的攻击者采用的是前面两种的混合方式,即利用了协议、系统的缺陷,又具备了海量的流量, 如SYN Flood、DNS Query Flood等等。</p>\n<h3 id=\"这里再说一下另外一种CC攻击\"><a href=\"#这里再说一下另外一种CC攻击\" class=\"headerlink\" title=\"这里再说一下另外一种CC攻击\"></a>这里再说一下另外一种CC攻击</h3><p>CC(Challenge Collapsar)攻击属于DDos的一种,是基于应用层HTTP协议 发起的DDos攻击,也被称为HTTP Flood。</p>\n<p>CC攻击的原理是这样的,攻击者通过控制的大量“肉鸡”或者利用从互联网上搜寻的大量匿名的HTTP代理,模拟正常用户给网站发起请求直到该网站拒绝服务为止。大部分网站会通过CDN以及分布式缓存来加快服务端响应,提升网站的吞吐量,而这些精心构造的HTTP请求往往有意避开这些缓存,需要进行多次DB查询操作或者是一次请求返回大量的数据,加速系统 资源消耗,从而拖垮后端的业务处理系统,甚至连相关存储以及日志收集系统也无法幸免。</p>\n<h2 id=\"1】\"><a href=\"#1】\" class=\"headerlink\" title=\"1】-\"></a>1】-</h2><p>当我知道已经是第二天早上，收到腾讯云的通知，欠费400。让我一个学生措不及防，打开电脑看到COS请求85.8万次，我猜测应该是被攻击了，第一时间找了腾讯云投诉，经过腾讯云技术人员追查是DDOS攻击，查到的IP是美国的</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/01.png\" alt></p>\n<h2 id=\"2】\"><a href=\"#2】\" class=\"headerlink\" title=\"2】-\"></a>2】-</h2><p>网上查找解决办法：</p>\n<p>1.找12315投诉，但是现在已经不受理这类纠纷。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/02.png\" alt></p>\n<p>2.找网警举报，可能是金额太低，我提交之后一直没有回复。</p>\n<p>3.最后只能找客服了，几天的交流才给我补款。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/04.png\" alt></p>\n<p>腾讯云坚持不承担损失，只知道让我去找网警去找解决办法，我倒是不明白到底谁是用户了。口口声声说是我没有设置好安全防护，腾讯云作为产品的提供方，并没有将产品Bug完善，那么谁应该承担？</p>\n<p><strong>腾讯云客服以我没有设置防盗链为由，并不承担损失。总的来说，不管设置阈值预警还是防盗链，都不能完全阻止网站被盗刷，那么我设置也就没有多大意义。次数少的攻击可以阻挡，但是上万的攻击就没用了，因为就算网站返回404页面也会产生流量，攻击次数多产生的流量就多了。</strong></p>\n<p>##3】-</p>\n<p>最后给我补款：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/MUYIio/CDN@1.3/Images/posts/DDOS/05.png\" alt></p>\n<p>不管是阿里云还是其他平台CDN盗刷，都是可以退款，前提是不是自己蓄意而为。</p>\n<p><strong>总结：</strong>吃一堑长一智，建议做好网站的安全防护不给坏人可乘之机！</p>\n","path":"ge-ren-bo-ke-wang-zhan-bei-e-yi-ddos-gong-ji-zen-me-ban.html","permalink":"https://www.yshawlon.cn/ge-ren-bo-ke-wang-zhan-bei-e-yi-ddos-gong-ji-zen-me-ban.html","tags":[{"name":"随笔","_id":"clq6dy48j000nikw0jjj70huj","slug":"随笔","path":"tags/随笔/","permalink":"https://www.yshawlon.cn/tags/随笔/","length":3}],"categories":[{"name":"DDOS","_id":"clq6dy4av003wikw0coj862tc","slug":"DDOS","path":"categories/DDOS/","permalink":"https://www.yshawlon.cn/categories/DDOS/","length":1}],"prev":{"title":"使用JSDelivr加速Github、博客文件","date":"2020-12-13T09:15:54.000Z","summary":"使用JSDelivr+GitHub免费加速博客文件，相当于免费CDN。","slug":"使用JSDelivr加速Github、博客文件","published":true,"updated":"2021-01-02T13:49:02.838Z","_id":"clq6dy4a4002gikw0mu8ojqd1","layout":"post","photos":[],"link":"","excerpt":"","path":"shi-yong-jsdelivr-jia-su-github-bo-ke-wen-jian.html","permalink":"https://www.yshawlon.cn/shi-yong-jsdelivr-jia-su-github-bo-ke-wen-jian.html","__post":true},"next":{"title":"C++学习笔记整理-函数","date":"2020-05-08T11:54:09.000Z","summary":"前面两章和C差不多，就从第三章《函数》开始吧，错误之处欢迎指正。","slug":"C-学习笔记整理-第三章《函数》","published":true,"updated":"2021-05-18T07:52:44.799Z","_id":"clq6dy488000bikw0x8vv0062","layout":"post","photos":[],"link":"","excerpt":"","path":"c-xue-xi-bi-ji-zheng-li-di-san-zhang-han-shu.html","permalink":"https://www.yshawlon.cn/c-xue-xi-bi-ji-zheng-li-di-san-zhang-han-shu.html","__post":true},"__post":true}