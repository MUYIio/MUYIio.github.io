{"title":"使用Java开发一个记事本","date":"2021-07-17T14:20:07.000Z","toc":true,"summary":"大二下的Java课程设计，仿的Windows记事本，使用Java Swing组件开发。","source":"_posts/使用Java开发一个记事本.md","raw":"---\ntitle: 使用Java开发一个记事本\ntop: false\ncover: false\ntoc: true\nmathjax: true\ndate: 2021-07-17 22:20:07\npassword:\nsummary: 大二下的Java课程设计，仿的Windows记事本，使用Java Swing组件开发。\ntags:\n- Demo\n- Notepad\ncategories:\n- Java\nkeywords:\ndescription:\n---\n\n\n\n### 概述：\n\n大二下的Java课程设计，仿的Windows记事本，使用Java Swing组件开发。\n\n\n\n**重要的：**\n\n- 新建、打开、保存、另存为、退出询问\n- 剪切、复制、粘贴、删除\n- 字体设置、背景色、字体颜色、编码格式\n- ...\n- 常用快捷键\n\n- CTRL + 滚轮 改变字体大小\n- 工具栏显示 当前时间 + 字体大小 + 字数统计\n- 全局字体设置\n- Windows文件窗口风格\n\n\n\n### 代码：\n\n**Demo 类：**\n\n```java\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\nclass Demo\n{\n\tpublic static void main(String [] args)\n\t{\n\t\t// 生成Windows风格的UI界面\n\t\ttry {\n\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException\n\t\t\t\t| UnsupportedLookAndFeelException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tnew NotePad();\n\t}\n}\n```\n\n\n\n**NotePad 类：**\n\n```java\nimport java.io.*;\nimport java.awt.*;\nimport java.awt.Font;\nimport java.awt.event.*;\nimport java.util.Calendar;\nimport java.util.Enumeration;\nimport java.awt.event.ActionEvent;\nimport java.util.GregorianCalendar;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.*;\nimport javax.swing.undo.UndoManager;\nimport javax.swing.plaf.FontUIResource;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.event.UndoableEditEvent;\nimport javax.swing.event.UndoableEditListener;\n\npublic class NotePad extends JFrame implements ActionListener // extends继承JFrame类\n{\n\tint start = 0, end = 0;\n\tJMenuBar bar; \n\tJMenu mu1, mu2, mu3, mu4, mu5;\n\tJMenuItem mt11, mt12, mt13, mt14, mt15; \n\tJMenuItem mt21, mt22, mt23, mt24, mt25;\n\tJMenuItem mt31, mt32, mt33, mt34, mt35;\n\tJMenuItem mt41, mt42, mt43;\n\tJMenuItem mt51;\n\t\n\tJRadioButton en_utf_8_Item = null;\n\tJRadioButton en_gbk_Item = null;\n\tJRadioButton de_utf_8_Item = null;\n\tJRadioButton de_gbk_Item = null;\n\t\n\tUndoManager manager; // 添加布局管理器\n\tJFileChooser jfc; // 定义一个文件选择框\n\tJTextArea area; // 定义一个文本框\n\tJScrollPane jsp; // 定义一个视窗\n\tFile file;\n\t\n\t// 底部状态栏\n\tJLabel labelLeft, labelCenter, labelRight;\n\tJToolBar jDown; // 定义一个工具栏\n\t\n\t// 编码格式\n\tString encode = \"UTF-8\";\n\tString decode = \"UTF-8\";\n\tString jsb = \"新建记事本\";\n\n\t// ctrl键是否按下\n\tboolean key_ctrl = false;\n\t// 是否在打开文件\n\tboolean isOpen = false;\n\t// 是否修改文件\n\tboolean isChanged = false;\n\t// 系统滚动条\n\tMouseWheelListener sysWheel;\n\t// 初始化文本域字体大小\n\tFont f = new Font(\"Serif\", 0, 23);\n\t\n\tGregorianCalendar time = new GregorianCalendar(); // 定义一个标准时间\n\tint hour = time.get(Calendar.HOUR_OF_DAY);\n\tint min = time.get(Calendar.MINUTE);\n\tint second = time.get(Calendar.SECOND);\n\n\tpublic NotePad() \n\t{\n\t\tinitFrame();\n\t\tinitGUI();\n\t}\n\t\n\tpublic void initFrame()\n\t{\n\t\tInitGlobalFont(new Font(\"宋体\", Font.PLAIN, 20)); // 统一设置字体\n\t\tsetTitle(\"新建记事本\");\n\t\tsetBounds(200, 100, 750, 900);\t\n\t\t// 加载Label的板块\n\t\tthis.launchLabel();\t\t\n\t\tClock clock = new Clock();\n\t\tclock.start();\n\t\tsetLocationRelativeTo(null); // 窗口居中显示\n\t\tsetDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE); // 3设置JFram不要默认关闭，为了用对话框触发退出\n\t\tsetVisible(true);\n\t}\n\t\n\tpublic void initGUI()\n\t{\n\t\tbar = new JMenuBar();\n\t\tmu1 = new JMenu(\"文件(F)\");\n\t\tmu2 = new JMenu(\"编辑(E)\");\n\t\tmu3 = new JMenu(\"格式(O)\");\n\t\tmu4 = new JMenu(\"查看(V)\");\n\t\tmu5 = new JMenu(\"帮助(H)\");\n\n\t\tmt11 = new JMenuItem(\"新建(N)   Ctrl+N\");\n\t\tmt12 = new JMenuItem(\"打开(O)   Ctrl+O\");\n\t\tmt13 = new JMenuItem(\"保存(S)   Ctrl+S\");\n\t\tmt14 = new JMenuItem(\"另存为(A)...\");\n\t\tmt15 = new JMenuItem(\"退出(X)\");\n\t\tmt11.addActionListener(this);\n\t\tmt12.addActionListener(this);\n\t\tmt13.addActionListener(this);\n\t\tmt14.addActionListener(this);\n\t\tmt15.addActionListener(this);\n\t\t\n\t\tmt21 = new JMenuItem(\"撤销(U)   Ctrl+Z\");\n\t\tmt22 = new JMenuItem(\"剪切(T)   Ctrl+X\");\n\t\tmt23 = new JMenuItem(\"复制(C)   Ctrl+C\");\n\t\tmt24 = new JMenuItem(\"粘贴(P)   Ctrl+V\");\n\t\tmt25 = new JMenuItem(\"删除(L)   Del\");\n\t\tmt21.addActionListener(this);\n\t\tmt22.addActionListener(this);\n\t\tmt23.addActionListener(this);\n\t\tmt24.addActionListener(this);\n\t\tmt25.addActionListener(this);\n\t\t\n\t\tmt31 = new JCheckBoxMenuItem(\"自动换行\", true);\n\t\tmt32 = new JMenuItem(\"字体选择(F)\");\n\t\tmt33 = new JMenuItem(\"替换(R)||查找(F)\");\n\t\tmt34 = new JMenu(\"编码\");\n\t\tmt35 = new JMenu(\"解码\");\n\t\ten_utf_8_Item = new JRadioButton(\"UTF-8\",true);\n\t\ten_gbk_Item = new JRadioButton(\"GBK\",false);\n\t\tde_utf_8_Item = new JRadioButton(\"UTF-8\",true);\n\t\tde_gbk_Item = new JRadioButton(\"GBK\",false);\n\t\tButtonGroup group1 = new ButtonGroup(); \n\t\tButtonGroup group2 = new ButtonGroup();\n\t\tmt31.addActionListener(this);\n\t\tmt32.addActionListener(this);\n\t\tmt33.addActionListener(this);\n\t\t\n\t\tmt41 = new JMenuItem(\"字体颜色\");\n\t\tmt42 = new JMenuItem(\"背景颜色\");\n\t\tmt43 = new JMenuItem(\"关于记事本(About)\");\n\t\tmt41.addActionListener(this);\n\t\tmt42.addActionListener(this);\n\t\tmt43.addActionListener(this);\n\t\t\n\t\tmt51 = new JMenuItem(\"帮助选项(H)\");\n\t\tmt51.addActionListener(this);\n\t\t\n\t\tmu1.add(mt11);\n\t\tmu1.add(mt12);\n\t\tmu1.add(mt13);\n\t\tmu1.add(mt14);\n\t\t// 将默认大小的分隔符添加到工具栏的末尾\n\t\tmu1.addSeparator();\n\t\tmu1.add(mt15);\n\t\tmu2.add(mt21);\n\t\tmu2.add(mt22);\n\t\tmu2.add(mt23);\n\t\tmu2.add(mt24);\n\t\tmu2.add(mt25);\n\t\tmu3.add(mt31);\n\t\tmu3.add(mt32);\n\t\tmu3.add(mt33);\n\t\tmu3.add(mt34);\n\t\tmu3.add(mt35);\n\t\tmu4.add(mt41);\n\t\tmu4.add(mt42);\n\t\tmu4.add(mt43);\n\t\tmu5.add(mt51);\n\t\tgroup1.add(en_utf_8_Item);\n\t\tgroup1.add(en_gbk_Item);\n\t\tgroup2.add(de_utf_8_Item);\n\t\tgroup2.add(de_gbk_Item);\n\t\tmt34.add(en_utf_8_Item);\n\t\tmt34.add(en_gbk_Item);\n\t\tmt35.add(de_utf_8_Item);\n\t\tmt35.add(de_gbk_Item);\n\t\t\n\t\tbar.add(mu1);\n\t\tbar.add(mu2);\n\t\tbar.add(mu3);\n\t\tbar.add(mu4);\n\t\tbar.add(mu5);\n\n\t\tsetJMenuBar(bar);\n\t\t\n\t    manager = new UndoManager(); // 撤销的监听器\n\t\tarea = new JTextArea();\n\t\tjsp = new JScrollPane(area);\n\t\tjfc = new JFileChooser();\n\t\t\n\t\tarea.setFont(f);\n\t\tarea.setCaretColor(Color.blue); // 光标颜色 \n\t\tarea.setSelectedTextColor(Color.blue); // 选中字体颜色 \n\t\tarea.setSelectionColor(Color.green); // 选中背景颜色\n\t\tarea.setLineWrap(true); // 是否换行  \n\t\tarea.setWrapStyleWord(true); // 当输入单词为行末时，换行以显示完整单词\n\t\tarea.setMargin(new Insets(3, 5, 3, 5)); // 文本区与边框的间距\n\t\tadd(jsp, BorderLayout.CENTER);\n\t\tthis.launchTextArea(); \n\t\t// 全局按键事件监听\n\t\tthis.addKeyListener();\n\t\t// 窗口的监听器\n\t\tthis.myaddWindowListener();\n\t}\n\t\n\t/* 统一设置字体，父界面设置之后，所有由父界面进入的子界面都不需要再次设置字体 */\n\tprivate static void InitGlobalFont(Font font) {\n\t\tFontUIResource fontRes = new FontUIResource(font);\n\t\t//遍历字体集合元素\n\t\tfor (Enumeration<Object> keys = UIManager.getDefaults().keys(); keys.hasMoreElements();) { \n\t\t\tObject key = keys.nextElement();\n\t\t\tObject value = UIManager.get(key);\n\t\t\tif (value instanceof FontUIResource) {\n\t\t\t\tUIManager.put(key, fontRes);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* 文件格式过滤器 */\n\tpublic class filter extends javax.swing.filechooser.FileFilter // 继承 FileFilter 类\n\t{\n\t\tpublic boolean accept(File file)\n\t\t{\n\t\t\tString name = file.getName();\n\t\t\tname.toString(); // 该字符串中的数字被转换为字符\n\t\t\t\n\t\t\t/* 文件后缀是.txt且是个目录 */\n\t\t\tif (name.endsWith(\".txt\") || file.isDirectory()) // 判断文件后缀\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t} else\n\t\t\t\treturn false;\n\t\t}\n \n\t\t/* 将引用具体子类的子类对象的方法,不可以省略类中的getDescription(),原因是编译器只允许调用在类中声明的方法. */\n\t\tpublic String getDescription() \n\t\t{\n\t\t\treturn \".txt\"; // 返回文件名\n\t\t}\n\t}\n\t\n\t\n\t/* 文本区域是否更改 */\n\tprivate class change implements DocumentListener {\n\t\t@Override\n\t\tpublic void insertUpdate(DocumentEvent e) {\n\t\t\tchangedUpdate(e);\n\t\t}\n\n\t\t@Override\n\t\tpublic void removeUpdate(DocumentEvent e) {\n\t\t\tchangedUpdate(e);\n\t\t}\n\n\t\t@Override\n\t\tpublic void changedUpdate(DocumentEvent e) {\n\t\t\tchanged();\n\t\t}\n\n\t\tpublic void changed() {\n\t\t\tif(!isOpen) {\n\t\t\t\tisChanged = true;\n\t\t\t\t// 统计字数\n\t\t\t\tlabelRight.setText(\"字数统计：\"  + tools.replaceBlank(area.getText())); // 调用外部方法\n\t\t\t}\n\t\t}\n\t}\n\n\t/* 打开文件保存对话框的方法，保存和另存为时调用此方法 */\n\tpublic void openSaveDialog() {\n\t\tint status = jfc.showSaveDialog(null);\n\t\tBufferedWriter bw = null;\n\t\tif (status == JFileChooser.APPROVE_OPTION) {\n\t\t\tfile = jfc.getSelectedFile();\n\t\t\ttry {\n\t\t\t\tOutputStreamWriter fWriter = new OutputStreamWriter(new FileOutputStream(file),encode);\n\t\t\t\tbw = new BufferedWriter(fWriter);\n\t\t\t\tString[] strs = area.getText().split(\"\\n\");\n\t\t\t\tfor (String str : strs) {\n\t\t\t\t\tbw.write(str);\n\t\t\t\t\tbw.newLine();\n\t\t\t\t\tbw.flush();\n\t\t\t\t}\n\t\t\t} catch (FileNotFoundException e1) {\n\t\t\t\tarea.setText(area.getText() + '\\n' + \"文件未找到\");\n\t\t\t\te1.printStackTrace();\n\t\t\t} catch (IOException e1) {\n\t\t\t\te1.printStackTrace();\n\t\t\t} finally {\n\t\t\t\tif (bw != null) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tbw.close();\n\t\t\t\t\t} catch (IOException e1) {\n\t\t\t\t\t\te1.printStackTrace();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tisChanged = false;\n\t\t\t\tlabelLeft.setText(\"状态：已保存\");\n\t\t\t\tthis.setTitle(file.getName());\n\t\t\t}\n\t\t}\n\t}\n\n\t/* 不打开文件保存对话框直接按照当前文件保存的方法 */\n\tpublic void onlySave() {\n\t\tBufferedWriter bw = null;\n\t\ttry {\n\t\t\tOutputStreamWriter fWriter = new OutputStreamWriter(new FileOutputStream(file),encode);\n\t\t\tbw = new BufferedWriter(fWriter);\n\t\t\tString[] strs = area.getText().split(\"\\n\");\n\t\t\tfor (String str : strs) {\n\t\t\t\tbw.write(str);\n\t\t\t\tbw.newLine();\n\t\t\t\tbw.flush();\n\t\t\t}\n\t\t} catch (IOException e1) {\n\t\t\te1.printStackTrace();\n\t\t} finally {\n\t\t\tif (bw != null) {\n\t\t\t\ttry {\n\t\t\t\t\tbw.close();\n\t\t\t\t} catch (IOException e1) {\n\t\t\t\t\te1.printStackTrace();\n\t\t\t\t}\n\t\t\t}\n\t\t\tisChanged = false;\n\t\t\tlabelLeft.setText(\"状态：已保存\");\n\t\t\tthis.setTitle(file.getName());\n\t\t}\n\t}\n\n\t/* 窗口的监听器，在退出时弹窗 */\n\tpublic void myaddWindowListener() {\n\t\tthis.addWindowListener(new WindowAdapter() {\n\t\t\tpublic void windowClosing(WindowEvent e) {\n\t\t\t\t// 如果修改未保存弹出对话框，保存了则直接退出\n\t\t\t\tif (isChanged == false) {\n\t\t\t\t\tSystem.exit(0);\n\t\t\t\t} else if (file == null) {\n\t\t\t\t\tnew JOptionPane();\n\t\t\t\t\tint result = JOptionPane.showConfirmDialog(null, \"文件还未保存，是否保存\", \"提示\",\n\t\t\t\t\t\t\tJOptionPane.YES_NO_CANCEL_OPTION);\n\t\t\t\t\t// 选择是的时候调用保存文件的文件选择对话框,否的时候直接退出\n\t\t\t\t\tif (result == JOptionPane.YES_OPTION) {\n\t\t\t\t\t\topenSaveDialog();\n\t\t\t\t\t} else if (result == JOptionPane.NO_OPTION) {\n\t\t\t\t\t\tSystem.exit(0);\n\t\t\t\t\t}\n\t\t\t\t} else if (file != null) {\n\t\t\t\t\tnew JOptionPane();\n\t\t\t\t\tint result = JOptionPane.showConfirmDialog(null, \"文件还未保存，是否保存到\" + file.getPath(), \"提示\",\n\t\t\t\t\t\t\tJOptionPane.YES_NO_CANCEL_OPTION);\n\t\t\t\t\t// 选择是的时候直接保存,否的时候直接退出\n\t\t\t\t\tif (result == JOptionPane.YES_OPTION) {\n\t\t\t\t\t\tonlySave();\n\t\t\t\t\t} else if (result == JOptionPane.NO_OPTION) {\n\t\t\t\t\t\tSystem.exit(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t\n\t/* 全局按键事件监听 */\n\tpublic void addKeyListener() {\n\t\tToolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener() {\n\t\t\tpublic void eventDispatched(AWTEvent event) {\n\t\t\t\tif (((KeyEvent) event).getID() == KeyEvent.KEY_RELEASED) {\n\t\t\t\t\tint key = ((KeyEvent) event).getKeyCode();\n\t\t\t\t\t// System.out.println(key);\n\t\t\t\t\tif (key == 17) {\n\t\t\t\t\t\tkey_ctrl = false; // 初始化 CTRL 状态为 false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (((KeyEvent) event).getID() == KeyEvent.KEY_PRESSED) {\n\t\t\t\t\tint key = ((KeyEvent) event).getKeyCode();\n\t\t\t\t\t// System.out.println(key);\n\t\t\t\t\tif (key == 17) {\n\t\t\t\t\t\tkey_ctrl = true; // 表示已经按下 CTRL\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 78 && key_ctrl == true) {\n\t\t\t\t\t\tSystem.out.println(\"ctrl + n\"); // 控制台输出所按的键\n\t\t\t\t\t\tif (manager.canRedo()) { // 新建文件\n\t\t\t\t\t\t\tarea.setText(\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 79 && key_ctrl == true) {\n\t\t\t\t\t\tSystem.out.println(\"ctrl + o\");\n\t\t\t\t\t\tif (manager.canRedo()) { // 打开文件\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 83 && key_ctrl == true) {\n\t\t\t\t\t\tSystem.out.println(\"ctrl + s\");\n\t\t\t\t\t\tif (file == null) { // 如果文本为空则打开文件，否则保存文件\n\t\t\t\t\t\t\topenSaveDialog();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tonlySave();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 83 && key_ctrl == true) {\n\t\t\t\t\t\tif (key == 16) {\n\t\t\t\t\t\t\tSystem.out.println(\"ctrl + shift + s\");\n\t\t\t\t\t\t\tonlySave(); // 另存为...\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 90 && key_ctrl == true) {\n\t\t\t\t\t\tSystem.out.println(\"ctrl + z\");\n\t\t\t\t\t\tif (manager.canUndo()) { // 撤销\n\t\t\t\t\t\t\tmanager.undo();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 88 && key_ctrl == true) {\n\t\t\t\t\t\tSystem.out.println(\"ctrl + x\");\n\t\t\t\t\t\tif (manager.canRedo()) { // 剪切\n\t\t\t\t\t\t\tmanager.redo();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 67 && key_ctrl == true) {\n\t\t\t\t\t\tSystem.out.println(\"ctrl + c\");\n\t\t\t\t\t\tif (manager.canRedo()) { // 复制\n\t\t\t\t\t\t\tmanager.redo();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 86 && key_ctrl == true) {\n\t\t\t\t\t\tSystem.out.println(\"ctrl + v\");\n\t\t\t\t\t\tif (manager.canRedo()) { // 粘贴\n\t\t\t\t\t\t\tmanager.redo();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (key == 127) {\n\t\t\t\t\t\tSystem.out.println(\"Delete\");\n\t\t\t\t\t\tif (manager.canRedo()) { // 删除\n\t\t\t\t\t\t    // 删除选定范围内的文本\n\t\t\t\t\t\t\tarea.replaceRange(\"\", area.getSelectionStart(), area.getSelectionEnd());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, AWTEvent.KEY_EVENT_MASK);\n\t}\n\t\n\t/* 加载文本域 */\n\tpublic void launchTextArea() {\n\t\t// 监听状态改变\n\t\tarea.getDocument().addDocumentListener(new change());\n\t\t// 监听撤销\n\t\tarea.getDocument().addUndoableEditListener(new UndoableEditListener() {// 注册撤销可编辑监听器\n\t\t\tpublic void undoableEditHappened(UndoableEditEvent e) {\n\t\t\t\tmanager.addEdit(e.getEdit());\n\t\t\t}\n\t\t});// 编辑撤销的监听\n\t\t// 文本域滚动条\n\t\tjsp = new JScrollPane(area);\n\t\t//jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS); //把滚动条全局作用在视窗 -_-难看\n\t\tsysWheel = jsp.getMouseWheelListeners()[0]; // 得到系统滚动事件\n\t\tjsp.removeMouseWheelListener(sysWheel); // 移除系统滚动，需要时添加\n\t\tjsp.addMouseWheelListener(new event());\n\t\tadd(jsp, BorderLayout.CENTER);\n\t}\n\t\n\t/* Ctrl + 鼠标改变字体 */\n\tpublic class event extends MouseAdapter {\n\t\t@Override\n\t\tpublic void mouseWheelMoved(MouseWheelEvent e) {\n\t\t\tif (e.isControlDown()) {// 当ctrl键被按下，滚动为放大缩小\n\t\t\t\t// System.out.println(e.getWheelRotation());\n\t\t\t\tif (e.getWheelRotation() < 0 && f.getSize() < 60) {// 如果滚动条向前就放大文本\n\t\t\t\t\tf = new Font(f.getFamily(), f.getStyle(), f.getSize() + 1);\n\t\t\t\t\tarea.setFont(f);\n\t\t\t\t} else if (e.getWheelRotation() > 0 && f.getSize() > 0) {// 滚动条向后就缩小文本\n\t\t\t\t\tf = new Font(f.getFamily(), f.getStyle(), f.getSize() - 1);\n\t\t\t\t\tarea.setFont(f);\n\t\t\t\t}\n\t\t\t\tlabelCenter.setText(\"字体大小：\" + f.getSize());\n\t\t\t} else {// 当ctrl没有被按下，则为系统滚动\n\t\t\t\tjsp.addMouseWheelListener(sysWheel);\n\t\t\t\tsysWheel.mouseWheelMoved(e);// 触发系统滚动事件。\n\t\t\t\tjsp.removeMouseWheelListener(sysWheel);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/* 模拟时钟 */\n\tclass Clock extends Thread\n\t{ \n\t\tpublic void run()\n\t\t{\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tGregorianCalendar time = new GregorianCalendar();\n\t\t\t\tint year = time.get(Calendar.YEAR);\n\t\t\t\tint month = time.get(Calendar.MONTH); // 月份是从 0 开始，所以输出时要 + 1\n\t\t\t\tint day = time.get(Calendar.DAY_OF_MONTH);\n\t\t\t\tint hour = time.get(Calendar.HOUR_OF_DAY);\n\t\t\t\tint min = time.get(Calendar.MINUTE);\n\t\t\t\tint second = time.get(Calendar.SECOND);\n\t\t\t\t// 设置时间格式完整格式：year + \"/\" + (month + 1) + \"/\" + day + \"  \" + hour + \":\" + min + \":\" + second\n\t\t\t\t// 由于太长就不设置了，难看 -_-\n\t\t\t\tlabelLeft.setText(\" 当前时间：\" + hour + \":\" + min + \":\" + second);\n\t\t\t\t\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tThread.sleep(950);\n\t\t\t\t} \t\t\n\t\t\t\tcatch (InterruptedException exception){}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/* 底部工具栏 */\n\tpublic void launchLabel() {\n\t\tjDown = new JToolBar(); // 底部Label的板块\n        labelLeft = new JLabel(\" 当前时间：\" + hour + \":\" + min + \":\" + second);\n\t\tlabelCenter = new JLabel(\"字体大小：\" + f.getSize());\n\t\tlabelRight = new JLabel(\"字数统计：\" );\n\t\tjDown.setLayout(new GridLayout(1, 3)); // 三行一列的意思\n\t\tjDown.add(labelLeft);\n\t\tjDown.add(labelCenter);\n\t\tjDown.add(labelRight);\n\t\tadd(jDown, BorderLayout.SOUTH);\n\t\tjDown.setVisible(true);\n\t}\n\t\n\tpublic void actionPerformed(ActionEvent e)\n\t{\n\t\tif (e.getSource() == mt11) // 新建选项\n\t\t{\n\t\t\tarea.setText(\"\");\n\t\t} else if (e.getSource() == mt12) // 打开选项\n\t\t{\n\t\t\tJFileChooser fc = new JFileChooser(\"D:\\\\\");\n\t\t\tint d = fc.showOpenDialog(this);\n\t\t\tif (d == 0)\n\t\t\t{\n\t\t\t\ttry{\n\t\t\t\t\tFile f = fc.getSelectedFile();\n\t\t\t\t\tFileReader fr = new FileReader(f);\n\t\t\t\t\tBufferedReader br = new BufferedReader(fr);\n\t\t\t\t\tString line = \"\";\n\t\t\t\t\twhile ((line = br.readLine()) != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tarea.append(line + \"\\n\");\n\t\t\t\t\t}\n\t\t\t\t\tbr.close();\n\t\t\t\t\tfr.close();\n\t\t\t\t}\n\t\t\t\tcatch(FileNotFoundException e2)\n\t\t\t\t{\n\t\t\t\t\tSystem.out.println(\"文件未找到\");\n\t\t\t\t}\n\t\t\t\tcatch(IOException e3)\n\t\t\t\t{\n\t\t\t\t\tSystem.out.println(\"文件无法读取\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else if (e.getSource() == mt13) // 保存选项\n\t\t{\n\t\t\tif (file == null)\n\t\t\t\t{\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tjfc = new JFileChooser();\n\t\t\t\t\t\tjfc.setCurrentDirectory(null);\n\t\t\t\t\t\tjsb = JOptionPane.showInputDialog(\"请输入文件名：\") + \".txt\";\n\n\t\t\t\t\t\tjfc.setSelectedFile(new File(jsb));\n\t\t\t\t\t\tjfc.setFileFilter(new filter());\n\t\t\t\t\t\tint temp = jfc.showSaveDialog(null); // 获取当前对象\n\t\t\t\t\t\tif (temp == jfc.APPROVE_OPTION) // 获得选中的文件对象\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (file != null)\n\t\t\t\t\t\t\t\tfile.delete();\n\t\t\t\t\t\t\tfile = new File(jfc.getCurrentDirectory(), jsb);\n\t\t\t\t\t\t\tfile.createNewFile();\n\t\t\t\t\t\t\tFileWriter fw = new FileWriter(file);\n\t\t\t\t\t\t\tfw.write(area.getText());\n\t\t\t\t\t\t\tfw.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (Exception e2)\n\t\t\t\t\t{\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, e);\n\t\t\t\t\t}\n\t\t\t\t} else\n\t\t\t\t{\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tFileWriter fw = new FileWriter(file);\n\t\t\t\t\t\tfw.write(area.getText());\n\t\t\t\t\t\tfw.close();\n\t\t\t\t\t} catch (Exception e3)\n\t\t\t\t\t{\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t} else if(e.getSource() == mt14) // 另存为选项\n\t\t{\n\t\t\tjfc = new JFileChooser();\n\t\t\t\tjfc.setCurrentDirectory(new File(\".\"));\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tif (file == null)\n\t\t\t\t\t{\n\t\t\t\t\t\tjsb = JOptionPane.showInputDialog(\"请输入文件名：\") + \".txt\";\n\t\t\t\t\t} else\n\t\t\t\t\t\tjsb = file.getName();\n\t\t\t\t\tjfc.setSelectedFile(new File(jsb));\n\t\t\t\t\tjfc.setFileFilter(new filter());\n\t\t\t\t\tint temp = jfc.showSaveDialog(null);\n\t\t\t\t\tif (temp == jfc.APPROVE_OPTION) // 获得选中的文件对象\n\t\t\t\t\t{\n\t\t\t\t\t\tif (file != null)\n\t\t\t\t\t\t\tfile.delete();\n\t\t\t\t\t\tfile = new File(jfc.getCurrentDirectory(), jsb);\n\t\t\t\t\t\tfile.createNewFile();\n\t\t\t\t\t\tFileWriter fw = new FileWriter(file);\n\t\t\t\t\t\tfw.write(area.getText());\n\t\t\t\t\t\tfw.close();\n\t\t\t\t\t}\n\t\t\t\t} catch (Exception e4)\n\t\t\t\t{\n\t\t\t\t\tJOptionPane.showMessageDialog(null, e4);\n\t\t\t\t}\n\t\t\t\n\t\t} else if (e.getSource() == mt15) // 退出选项\n\t\t{\n\t\t\tint state = JOptionPane.showConfirmDialog(null, \"您确定要退出？退出前请确定您的文件已保存\");\n\t\t\tif (state == JOptionPane.OK_OPTION)\n\t\t\t\tSystem.exit(0);\n\t\t} else if (e.getSource() == mt21) // 撤销选项\n\t\t{\n\t\t\tif (manager.canUndo())\n\t\t\t\t\tmanager.undo();\n\t\t} else if (e.getSource() == mt22) // 剪切选项\n\t\t{\n\t\t\tarea.cut();\n\t\t} else if (e.getSource() == mt23) // 复制选项\n\t\t{\n\t\t\tarea.copy();\n\t\t} else if (e.getSource() == mt24) // 粘贴选项\n\t\t{\n\t\t\tarea.paste();\n\t\t} else if (e.getSource() == mt25) // 删除选项 使用空格替换文本\n\t\t{\n\t\t\tarea.replaceRange(\"\", area.getSelectionStart(), area.getSelectionEnd());\n\t\t} else if (e.getSource() == mt31) // 自动换行\n\t\t{\n\t\t\t//if (mt31.getState())\n\t\t\t\t//area.setLineWrap(true);\n\t\t\t//else\n\t\t\t\t//area.setLineWrap(false);\n\t\t} else if (e.getSource() == mt32) // 字体选择\n\t\t{\n\t\t\t/* 获取本地图形环境 */\n\t\t\tGraphicsEnvironment gr = GraphicsEnvironment.getLocalGraphicsEnvironment();\n\t\t\t/* 字体名称列表框 */\n\t\t\tJList fontnames = new JList(gr.getAvailableFontFamilyNames());\n\t\t\t/* JScrollPane 管理视口、可选的垂直和水平滚动条以及可选的行和列标题视口 */\n\t\t\tint selection = JOptionPane.showConfirmDialog(null, new JScrollPane(fontnames), \"请选择字体\",JOptionPane.OK_CANCEL_OPTION);\n\t\t\tObject selectedFont = fontnames.getSelectedValue();\n\t\t\tif (selection == JOptionPane.OK_OPTION && selectedFont != null)\n\t\t\t{\n\t\t\t\tarea.setFont(new Font(fontnames.getSelectedValue().toString(), Font.PLAIN, 20));\n\t\t\t}\n\t\t} else if (e.getSource() == mt33) // 查找 || 替换 选项\n\t\t{\n\t\t\tJDialog search = new JDialog();\n\t\t\tsearch.setSize(300, 100);\n\t\t\tsearch.setLocation(450, 350);\n\t\t\tJLabel label_1 = new JLabel(\"查找的内容\");\n\t\t\tJLabel label_2 = new JLabel(\"替换的内容\");\n\t\t\tJTextField textField_1 = new JTextField(5);\n\t\t\tJTextField textField_2 = new JTextField(5);\n\t\t\tJButton buttonFind = new JButton(\"查找下一个\");\n\t\t\tJButton buttonChange = new JButton(\"替换\");\n\t\t\tJPanel panel = new JPanel(new GridLayout(2, 3));\n\t\t\tpanel.add(label_1);\n\t\t\tpanel.add(textField_1);\n\t\t\tpanel.add(buttonFind);\n\t\t\tpanel.add(label_2);\n\t\t\tpanel.add(textField_2);\n\t\t\tpanel.add(buttonChange);\n\t\t\tsearch.add(panel);\n\t\t\tsearch.setVisible(true);\n\t\t\t\t\n\t\t\t// 为查找下一个 按钮绑定监听事件\n\t\t\tbuttonFind.addActionListener(new ActionListener()\n\t\t\t{\n\t\t\t\tpublic void actionPerformed(ActionEvent e)\n\t\t\t\t{\n\t\t\t\t\tString findText = textField_1.getText();// 查找的字符\n\t\t\t\t\tString textArea = area.getText();// 当前文本框的内容\n \n\t\t\t\t\tstart = textArea.indexOf(findText, end);\n\t\t\t\t\tend = start + findText.length();\n\t\t\t\t\tif (start == -1) // 没有找到\n\t\t\t\t\t{\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, \"没找到\" + findText, \"记事本\", JOptionPane.WARNING_MESSAGE);\n\t\t\t\t\t\tarea.select(start, end);\n\t\t\t\t\t} else\n\t\t\t\t\t{\n\t\t\t\t\t\tarea.select(start, end);\n\t\t\t\t\t}\n \n\t\t\t\t}\n\t\t\t});\n\t\t\t\t\n\t\t\t// 为替换按钮绑定监听时间\n\t\t\tbuttonChange.addActionListener(new ActionListener()\n\t\t\t{\n\t\t\t\tpublic void actionPerformed(ActionEvent e)\n\t\t\t\t{\n\t\t\t\t\tString changeText = textField_2.getText();// 替换的字符串\n\t\t\t\t\t/* 如果选定文件为真 */\n\t\t\t\t\tif (area.getSelectionStart() != area.getSelectionEnd())\n\t\t\t\t\t\tarea.replaceRange(changeText, area.getSelectionStart(), area.getSelectionEnd());\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (e.getSource() == mt41) // 字体颜色\n\t\t{\n\t\t\tJColorChooser cc = new JColorChooser();\n\t\t\tColor c = cc.showDialog(this, \"选择颜色\", Color.blue);\n\t\t\tarea.setForeground(c);\n\t\t} else if (e.getSource() == mt42) // 背景颜色 \n\t\t{\n\t\t\tJColorChooser cc= new JColorChooser();\n\t\t\tColor c = cc.showDialog(this, \"选择颜色\", Color.green);\n\t\t\tarea.setBackground(c);\n\t\t} else if (e.getSource() == mt43) // 关于记事本\n\t\t{\n\t\t\tJOptionPane.showMessageDialog(null, \"记事本\\n开发语言：JAVA\\n开发者：赵晓龙\\n联系方式：muyiio@outlook.com\", \"关于\",\n\t\t\tJOptionPane.PLAIN_MESSAGE);\n\t\t} else if (e.getSource() == mt51) // 帮助选项\n\t\t{\n\t\t\tJOptionPane.showMessageDialog(null, \"详细代码请移步\\n博客：https://yshawlon.cn/\", \"帮助\", JOptionPane.PLAIN_MESSAGE);\n\t\t}\n\t}\t\n}\n```\n\n\n\n**tools  类：**\n\n```java\npublic class tools {\n\t// 字符串去无效字符(空格，制表符，换行，标点等)后的长度.\n\tpublic static int replaceBlank(String str) {\n\t\tString dest = \"\";\n\t\tif (str != null) { // 如果文本不为空则计数\n\t\t\tstr = str.replaceAll(\"[\\\\pP‘’“”]\", \"\"); \n\t\t\tdest = str.replaceAll(\"\\\\s*|\\t|\\r|\\n\", \"\"); \n\t\t}\n\t\treturn dest.length(); // 返回文本的有效长度\n\t}\n}\n```\n\n","slug":"使用Java开发一个记事本","published":true,"updated":"2021-10-20T13:17:18.866Z","_id":"clq6dy4a9002nikw0ng08ymvi","comments":true,"layout":"post","photos":[],"link":"","html":"<h3 id=\"概述：\"><a href=\"#概述：\" class=\"headerlink\" title=\"概述：\"></a>概述：</h3><p>大二下的Java课程设计，仿的Windows记事本，使用Java Swing组件开发。</p>\n<p><strong>重要的：</strong></p>\n<ul>\n<li><p>新建、打开、保存、另存为、退出询问</p>\n</li>\n<li><p>剪切、复制、粘贴、删除</p>\n</li>\n<li><p>字体设置、背景色、字体颜色、编码格式</p>\n</li>\n<li><p>…</p>\n</li>\n<li><p>常用快捷键</p>\n</li>\n<li><p>CTRL + 滚轮 改变字体大小</p>\n</li>\n<li><p>工具栏显示 当前时间 + 字体大小 + 字数统计</p>\n</li>\n<li><p>全局字体设置</p>\n</li>\n<li><p>Windows文件窗口风格</p>\n</li>\n</ul>\n<h3 id=\"代码：\"><a href=\"#代码：\" class=\"headerlink\" title=\"代码：\"></a>代码：</h3><p><strong>Demo 类：</strong></p>\n<pre class=\"line-numbers language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>UIManager<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>UnsupportedLookAndFeelException<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Demo</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\" spellcheck=\"true\">// 生成Windows风格的UI界面</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            UIManager<span class=\"token punctuation\">.</span><span class=\"token function\">setLookAndFeel</span><span class=\"token punctuation\">(</span>UIManager<span class=\"token punctuation\">.</span><span class=\"token function\">getSystemLookAndFeelClassName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token operator\">|</span> InstantiationException <span class=\"token operator\">|</span> IllegalAccessException\n                <span class=\"token operator\">|</span> UnsupportedLookAndFeelException e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">NotePad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>NotePad 类：</strong></p>\n<pre class=\"line-numbers language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>awt<span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>awt<span class=\"token punctuation\">.</span>Font<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>awt<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>Calendar<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>Enumeration<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>awt<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>ActionEvent<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>GregorianCalendar<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>awt<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>ActionListener<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>undo<span class=\"token punctuation\">.</span>UndoManager<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>plaf<span class=\"token punctuation\">.</span>FontUIResource<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>DocumentEvent<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>DocumentListener<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>UndoableEditEvent<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>UndoableEditListener<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NotePad</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">JFrame</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ActionListener</span> <span class=\"token comment\" spellcheck=\"true\">// extends继承JFrame类</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> start <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> end <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    JMenuBar bar<span class=\"token punctuation\">;</span> \n    JMenu mu1<span class=\"token punctuation\">,</span> mu2<span class=\"token punctuation\">,</span> mu3<span class=\"token punctuation\">,</span> mu4<span class=\"token punctuation\">,</span> mu5<span class=\"token punctuation\">;</span>\n    JMenuItem mt11<span class=\"token punctuation\">,</span> mt12<span class=\"token punctuation\">,</span> mt13<span class=\"token punctuation\">,</span> mt14<span class=\"token punctuation\">,</span> mt15<span class=\"token punctuation\">;</span> \n    JMenuItem mt21<span class=\"token punctuation\">,</span> mt22<span class=\"token punctuation\">,</span> mt23<span class=\"token punctuation\">,</span> mt24<span class=\"token punctuation\">,</span> mt25<span class=\"token punctuation\">;</span>\n    JMenuItem mt31<span class=\"token punctuation\">,</span> mt32<span class=\"token punctuation\">,</span> mt33<span class=\"token punctuation\">,</span> mt34<span class=\"token punctuation\">,</span> mt35<span class=\"token punctuation\">;</span>\n    JMenuItem mt41<span class=\"token punctuation\">,</span> mt42<span class=\"token punctuation\">,</span> mt43<span class=\"token punctuation\">;</span>\n    JMenuItem mt51<span class=\"token punctuation\">;</span>\n\n    JRadioButton en_utf_8_Item <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n    JRadioButton en_gbk_Item <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n    JRadioButton de_utf_8_Item <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n    JRadioButton de_gbk_Item <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n\n    UndoManager manager<span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 添加布局管理器</span>\n    JFileChooser jfc<span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 定义一个文件选择框</span>\n    JTextArea area<span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 定义一个文本框</span>\n    JScrollPane jsp<span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 定义一个视窗</span>\n    File file<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// 底部状态栏</span>\n    JLabel labelLeft<span class=\"token punctuation\">,</span> labelCenter<span class=\"token punctuation\">,</span> labelRight<span class=\"token punctuation\">;</span>\n    JToolBar jDown<span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 定义一个工具栏</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// 编码格式</span>\n    String encode <span class=\"token operator\">=</span> <span class=\"token string\">\"UTF-8\"</span><span class=\"token punctuation\">;</span>\n    String decode <span class=\"token operator\">=</span> <span class=\"token string\">\"UTF-8\"</span><span class=\"token punctuation\">;</span>\n    String jsb <span class=\"token operator\">=</span> <span class=\"token string\">\"新建记事本\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// ctrl键是否按下</span>\n    <span class=\"token keyword\">boolean</span> key_ctrl <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 是否在打开文件</span>\n    <span class=\"token keyword\">boolean</span> isOpen <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 是否修改文件</span>\n    <span class=\"token keyword\">boolean</span> isChanged <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 系统滚动条</span>\n    MouseWheelListener sysWheel<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 初始化文本域字体大小</span>\n    Font f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Font</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Serif\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    GregorianCalendar time <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GregorianCalendar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 定义一个标准时间</span>\n    <span class=\"token keyword\">int</span> hour <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>HOUR_OF_DAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> min <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>MINUTE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> second <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>SECOND<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">NotePad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \n    <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">initFrame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">initGUI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">initFrame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">InitGlobalFont</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Font</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"宋体\"</span><span class=\"token punctuation\">,</span> Font<span class=\"token punctuation\">.</span>PLAIN<span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 统一设置字体</span>\n        <span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"新建记事本\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setBounds</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">750</span><span class=\"token punctuation\">,</span> <span class=\"token number\">900</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n        <span class=\"token comment\" spellcheck=\"true\">// 加载Label的板块</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">launchLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        \n        Clock clock <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Clock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        clock<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setLocationRelativeTo</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 窗口居中显示</span>\n        <span class=\"token function\">setDefaultCloseOperation</span><span class=\"token punctuation\">(</span>JFrame<span class=\"token punctuation\">.</span>DO_NOTHING_ON_CLOSE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 3设置JFram不要默认关闭，为了用对话框触发退出</span>\n        <span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">initGUI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        bar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenu</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"文件(F)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenu</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"编辑(E)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenu</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"格式(O)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu4 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenu</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"查看(V)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu5 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenu</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"帮助(H)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        mt11 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"新建(N)   Ctrl+N\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt12 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"打开(O)   Ctrl+O\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt13 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"保存(S)   Ctrl+S\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt14 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"另存为(A)...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt15 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"退出(X)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt11<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt12<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt13<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt14<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt15<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        mt21 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"撤销(U)   Ctrl+Z\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt22 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"剪切(T)   Ctrl+X\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt23 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"复制(C)   Ctrl+C\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt24 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"粘贴(P)   Ctrl+V\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt25 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"删除(L)   Del\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt21<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt22<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt23<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt24<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt25<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        mt31 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JCheckBoxMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"自动换行\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt32 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"字体选择(F)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt33 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"替换(R)||查找(F)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt34 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenu</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"编码\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt35 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenu</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"解码\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        en_utf_8_Item <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JRadioButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        en_gbk_Item <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JRadioButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GBK\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        de_utf_8_Item <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JRadioButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        de_gbk_Item <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JRadioButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GBK\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ButtonGroup group1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ButtonGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n        ButtonGroup group2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ButtonGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt31<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt32<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt33<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        mt41 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"字体颜色\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt42 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"背景颜色\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt43 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"关于记事本(About)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt41<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt42<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt43<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        mt51 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JMenuItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"帮助选项(H)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt51<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        mu1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt11<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt12<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt13<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt14<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// 将默认大小的分隔符添加到工具栏的末尾</span>\n        mu1<span class=\"token punctuation\">.</span><span class=\"token function\">addSeparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt21<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt22<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt23<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt24<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt25<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu3<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt31<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu3<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt32<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu3<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt33<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu3<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt34<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu3<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt35<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu4<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt41<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu4<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt42<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu4<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt43<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mu5<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mt51<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        group1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>en_utf_8_Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        group1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>en_gbk_Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        group2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>de_utf_8_Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        group2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>de_gbk_Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt34<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>en_utf_8_Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt34<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>en_gbk_Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt35<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>de_utf_8_Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mt35<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>de_gbk_Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        bar<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mu1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        bar<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mu2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        bar<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mu3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        bar<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mu4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        bar<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mu5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">setJMenuBar</span><span class=\"token punctuation\">(</span>bar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        manager <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UndoManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 撤销的监听器</span>\n        area <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JTextArea</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        jsp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JScrollPane</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        jfc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JFileChooser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">setCaretColor</span><span class=\"token punctuation\">(</span>Color<span class=\"token punctuation\">.</span>blue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 光标颜色 </span>\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">setSelectedTextColor</span><span class=\"token punctuation\">(</span>Color<span class=\"token punctuation\">.</span>blue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 选中字体颜色 </span>\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">setSelectionColor</span><span class=\"token punctuation\">(</span>Color<span class=\"token punctuation\">.</span>green<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 选中背景颜色</span>\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">setLineWrap</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 是否换行  </span>\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">setWrapStyleWord</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 当输入单词为行末时，换行以显示完整单词</span>\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">setMargin</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Insets</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 文本区与边框的间距</span>\n        <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>jsp<span class=\"token punctuation\">,</span> BorderLayout<span class=\"token punctuation\">.</span>CENTER<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">launchTextArea</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n        <span class=\"token comment\" spellcheck=\"true\">// 全局按键事件监听</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">addKeyListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// 窗口的监听器</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">myaddWindowListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 统一设置字体，父界面设置之后，所有由父界面进入的子界面都不需要再次设置字体 */</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">InitGlobalFont</span><span class=\"token punctuation\">(</span>Font font<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        FontUIResource fontRes <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FontUIResource</span><span class=\"token punctuation\">(</span>font<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">//遍历字体集合元素</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>Enumeration<span class=\"token operator\">&lt;</span>Object<span class=\"token operator\">></span> keys <span class=\"token operator\">=</span> UIManager<span class=\"token punctuation\">.</span><span class=\"token function\">getDefaults</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> keys<span class=\"token punctuation\">.</span><span class=\"token function\">hasMoreElements</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n            Object key <span class=\"token operator\">=</span> keys<span class=\"token punctuation\">.</span><span class=\"token function\">nextElement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            Object value <span class=\"token operator\">=</span> UIManager<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">FontUIResource</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                UIManager<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> fontRes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 文件格式过滤器 */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">filter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>filechooser<span class=\"token punctuation\">.</span>FileFilter</span> <span class=\"token comment\" spellcheck=\"true\">// 继承 FileFilter 类</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>File file<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            String name <span class=\"token operator\">=</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            name<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 该字符串中的数字被转换为字符</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">/* 文件后缀是.txt且是个目录 */</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">endsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".txt\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">isDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 判断文件后缀</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\" spellcheck=\"true\">/* 将引用具体子类的子类对象的方法,不可以省略类中的getDescription(),原因是编译器只允许调用在类中声明的方法. */</span>\n        <span class=\"token keyword\">public</span> String <span class=\"token function\">getDescription</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\".txt\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 返回文件名</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 文本区域是否更改 */</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">change</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">DocumentListener</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token annotation punctuation\">@Override</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">insertUpdate</span><span class=\"token punctuation\">(</span>DocumentEvent e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">changedUpdate</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token annotation punctuation\">@Override</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">removeUpdate</span><span class=\"token punctuation\">(</span>DocumentEvent e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">changedUpdate</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token annotation punctuation\">@Override</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">changedUpdate</span><span class=\"token punctuation\">(</span>DocumentEvent e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">changed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">changed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isOpen<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                isChanged <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 统计字数</span>\n                labelRight<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"字数统计：\"</span>  <span class=\"token operator\">+</span> tools<span class=\"token punctuation\">.</span><span class=\"token function\">replaceBlank</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 调用外部方法</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 打开文件保存对话框的方法，保存和另存为时调用此方法 */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">openSaveDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> status <span class=\"token operator\">=</span> jfc<span class=\"token punctuation\">.</span><span class=\"token function\">showSaveDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        BufferedWriter bw <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>status <span class=\"token operator\">==</span> JFileChooser<span class=\"token punctuation\">.</span>APPROVE_OPTION<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            file <span class=\"token operator\">=</span> jfc<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectedFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                OutputStreamWriter fWriter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OutputStreamWriter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">FileOutputStream</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>encode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                bw <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BufferedWriter</span><span class=\"token punctuation\">(</span>fWriter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> strs <span class=\"token operator\">=</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>String str <span class=\"token operator\">:</span> strs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    bw<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    bw<span class=\"token punctuation\">.</span><span class=\"token function\">newLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    bw<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">FileNotFoundException</span> e1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                area<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\\n'</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"文件未找到\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                e1<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                e1<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>bw <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                        bw<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        e1<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                isChanged <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n                labelLeft<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"状态：已保存\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 不打开文件保存对话框直接按照当前文件保存的方法 */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onlySave</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        BufferedWriter bw <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            OutputStreamWriter fWriter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OutputStreamWriter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">FileOutputStream</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>encode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            bw <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BufferedWriter</span><span class=\"token punctuation\">(</span>fWriter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> strs <span class=\"token operator\">=</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>String str <span class=\"token operator\">:</span> strs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                bw<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                bw<span class=\"token punctuation\">.</span><span class=\"token function\">newLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                bw<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            e1<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>bw <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                    bw<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    e1<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            isChanged <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            labelLeft<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"状态：已保存\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 窗口的监听器，在退出时弹窗 */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">myaddWindowListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">addWindowListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">WindowAdapter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">windowClosing</span><span class=\"token punctuation\">(</span>WindowEvent e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 如果修改未保存弹出对话框，保存了则直接退出</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isChanged <span class=\"token operator\">==</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    System<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file <span class=\"token operator\">==</span> null<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">new</span> <span class=\"token class-name\">JOptionPane</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">int</span> result <span class=\"token operator\">=</span> JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showConfirmDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> <span class=\"token string\">\"文件还未保存，是否保存\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"提示\"</span><span class=\"token punctuation\">,</span>\n                            JOptionPane<span class=\"token punctuation\">.</span>YES_NO_CANCEL_OPTION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 选择是的时候调用保存文件的文件选择对话框,否的时候直接退出</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">==</span> JOptionPane<span class=\"token punctuation\">.</span>YES_OPTION<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">openSaveDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">==</span> JOptionPane<span class=\"token punctuation\">.</span>NO_OPTION<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">new</span> <span class=\"token class-name\">JOptionPane</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">int</span> result <span class=\"token operator\">=</span> JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showConfirmDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> <span class=\"token string\">\"文件还未保存，是否保存到\"</span> <span class=\"token operator\">+</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">getPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"提示\"</span><span class=\"token punctuation\">,</span>\n                            JOptionPane<span class=\"token punctuation\">.</span>YES_NO_CANCEL_OPTION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 选择是的时候直接保存,否的时候直接退出</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">==</span> JOptionPane<span class=\"token punctuation\">.</span>YES_OPTION<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">onlySave</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">==</span> JOptionPane<span class=\"token punctuation\">.</span>NO_OPTION<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 全局按键事件监听 */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">addKeyListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        Toolkit<span class=\"token punctuation\">.</span><span class=\"token function\">getDefaultToolkit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addAWTEventListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">AWTEventListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">eventDispatched</span><span class=\"token punctuation\">(</span>AWTEvent event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>KeyEvent<span class=\"token punctuation\">)</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> KeyEvent<span class=\"token punctuation\">.</span>KEY_RELEASED<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">int</span> key <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>KeyEvent<span class=\"token punctuation\">)</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getKeyCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// System.out.println(key);</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        key_ctrl <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 初始化 CTRL 状态为 false</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>KeyEvent<span class=\"token punctuation\">)</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> KeyEvent<span class=\"token punctuation\">.</span>KEY_PRESSED<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">int</span> key <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>KeyEvent<span class=\"token punctuation\">)</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getKeyCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// System.out.println(key);</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        key_ctrl <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 表示已经按下 CTRL</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">78</span> <span class=\"token operator\">&amp;&amp;</span> key_ctrl <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctrl + n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 控制台输出所按的键</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">canRedo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 新建文件</span>\n                            area<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">79</span> <span class=\"token operator\">&amp;&amp;</span> key_ctrl <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctrl + o\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">canRedo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 打开文件</span>\n\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">83</span> <span class=\"token operator\">&amp;&amp;</span> key_ctrl <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctrl + s\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file <span class=\"token operator\">==</span> null<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 如果文本为空则打开文件，否则保存文件</span>\n                            <span class=\"token function\">openSaveDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token function\">onlySave</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">83</span> <span class=\"token operator\">&amp;&amp;</span> key_ctrl <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctrl + shift + s\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                            <span class=\"token function\">onlySave</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 另存为...</span>\n                        <span class=\"token punctuation\">}</span>\n\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">90</span> <span class=\"token operator\">&amp;&amp;</span> key_ctrl <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctrl + z\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">canUndo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 撤销</span>\n                            manager<span class=\"token punctuation\">.</span><span class=\"token function\">undo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">88</span> <span class=\"token operator\">&amp;&amp;</span> key_ctrl <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctrl + x\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">canRedo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 剪切</span>\n                            manager<span class=\"token punctuation\">.</span><span class=\"token function\">redo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">67</span> <span class=\"token operator\">&amp;&amp;</span> key_ctrl <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctrl + c\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">canRedo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 复制</span>\n                            manager<span class=\"token punctuation\">.</span><span class=\"token function\">redo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">86</span> <span class=\"token operator\">&amp;&amp;</span> key_ctrl <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctrl + v\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">canRedo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 粘贴</span>\n                            manager<span class=\"token punctuation\">.</span><span class=\"token function\">redo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token number\">127</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Delete\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">canRedo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 删除</span>\n                            <span class=\"token comment\" spellcheck=\"true\">// 删除选定范围内的文本</span>\n                            area<span class=\"token punctuation\">.</span><span class=\"token function\">replaceRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectionStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectionEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> AWTEvent<span class=\"token punctuation\">.</span>KEY_EVENT_MASK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 加载文本域 */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">launchTextArea</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\" spellcheck=\"true\">// 监听状态改变</span>\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">getDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addDocumentListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">change</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// 监听撤销</span>\n        area<span class=\"token punctuation\">.</span><span class=\"token function\">getDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addUndoableEditListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">UndoableEditListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token comment\" spellcheck=\"true\">// 注册撤销可编辑监听器</span>\n            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">undoableEditHappened</span><span class=\"token punctuation\">(</span>UndoableEditEvent e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                manager<span class=\"token punctuation\">.</span><span class=\"token function\">addEdit</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getEdit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\" spellcheck=\"true\">// 编辑撤销的监听</span>\n        <span class=\"token comment\" spellcheck=\"true\">// 文本域滚动条</span>\n        jsp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JScrollPane</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">//jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS); //把滚动条全局作用在视窗 -_-难看</span>\n        sysWheel <span class=\"token operator\">=</span> jsp<span class=\"token punctuation\">.</span><span class=\"token function\">getMouseWheelListeners</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 得到系统滚动事件</span>\n        jsp<span class=\"token punctuation\">.</span><span class=\"token function\">removeMouseWheelListener</span><span class=\"token punctuation\">(</span>sysWheel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 移除系统滚动，需要时添加</span>\n        jsp<span class=\"token punctuation\">.</span><span class=\"token function\">addMouseWheelListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">event</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>jsp<span class=\"token punctuation\">,</span> BorderLayout<span class=\"token punctuation\">.</span>CENTER<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* Ctrl + 鼠标改变字体 */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">event</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">MouseAdapter</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token annotation punctuation\">@Override</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">mouseWheelMoved</span><span class=\"token punctuation\">(</span>MouseWheelEvent e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">isControlDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token comment\" spellcheck=\"true\">// 当ctrl键被按下，滚动为放大缩小</span>\n                <span class=\"token comment\" spellcheck=\"true\">// System.out.println(e.getWheelRotation());</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getWheelRotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token comment\" spellcheck=\"true\">// 如果滚动条向前就放大文本</span>\n                    f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Font</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span><span class=\"token function\">getFamily</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getStyle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    area<span class=\"token punctuation\">.</span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getWheelRotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token comment\" spellcheck=\"true\">// 滚动条向后就缩小文本</span>\n                    f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Font</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span><span class=\"token function\">getFamily</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getStyle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    area<span class=\"token punctuation\">.</span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                labelCenter<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"字体大小：\"</span> <span class=\"token operator\">+</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><span class=\"token comment\" spellcheck=\"true\">// 当ctrl没有被按下，则为系统滚动</span>\n                jsp<span class=\"token punctuation\">.</span><span class=\"token function\">addMouseWheelListener</span><span class=\"token punctuation\">(</span>sysWheel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                sysWheel<span class=\"token punctuation\">.</span><span class=\"token function\">mouseWheelMoved</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\" spellcheck=\"true\">// 触发系统滚动事件。</span>\n                jsp<span class=\"token punctuation\">.</span><span class=\"token function\">removeMouseWheelListener</span><span class=\"token punctuation\">(</span>sysWheel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 模拟时钟 */</span>\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Clock</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Thread</span>\n    <span class=\"token punctuation\">{</span> \n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                GregorianCalendar time <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GregorianCalendar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">int</span> year <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>YEAR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">int</span> month <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>MONTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 月份是从 0 开始，所以输出时要 + 1</span>\n                <span class=\"token keyword\">int</span> day <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>DAY_OF_MONTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">int</span> hour <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>HOUR_OF_DAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">int</span> min <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>MINUTE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">int</span> second <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Calendar<span class=\"token punctuation\">.</span>SECOND<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 设置时间格式完整格式：year + \"/\" + (month + 1) + \"/\" + day + \"  \" + hour + \":\" + min + \":\" + second</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 由于太长就不设置了，难看 -_-</span>\n                labelLeft<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" 当前时间：\"</span> <span class=\"token operator\">+</span> hour <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> min <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> second<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">try</span>\n                <span class=\"token punctuation\">{</span>\n                    Thread<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">950</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>         \n                <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> exception<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/* 底部工具栏 */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">launchLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        jDown <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JToolBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 底部Label的板块</span>\n        labelLeft <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JLabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" 当前时间：\"</span> <span class=\"token operator\">+</span> hour <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> min <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> second<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        labelCenter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JLabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"字体大小：\"</span> <span class=\"token operator\">+</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        labelRight <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JLabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"字数统计：\"</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        jDown<span class=\"token punctuation\">.</span><span class=\"token function\">setLayout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">GridLayout</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 三行一列的意思</span>\n        jDown<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>labelLeft<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        jDown<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>labelCenter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        jDown<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>labelRight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>jDown<span class=\"token punctuation\">,</span> BorderLayout<span class=\"token punctuation\">.</span>SOUTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        jDown<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">actionPerformed</span><span class=\"token punctuation\">(</span>ActionEvent e<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt11<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 新建选项</span>\n        <span class=\"token punctuation\">{</span>\n            area<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt12<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 打开选项</span>\n        <span class=\"token punctuation\">{</span>\n            JFileChooser fc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JFileChooser</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:\\\\\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">int</span> d <span class=\"token operator\">=</span> fc<span class=\"token punctuation\">.</span><span class=\"token function\">showOpenDialog</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">try</span><span class=\"token punctuation\">{</span>\n                    File f <span class=\"token operator\">=</span> fc<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectedFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    FileReader fr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    BufferedReader br <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BufferedReader</span><span class=\"token punctuation\">(</span>fr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    String line <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>line <span class=\"token operator\">=</span> br<span class=\"token punctuation\">.</span><span class=\"token function\">readLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">{</span>\n                        area<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>line <span class=\"token operator\">+</span> <span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                    br<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    fr<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>FileNotFoundException e2<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"文件未找到\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>IOException e3<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"文件无法读取\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt13<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 保存选项</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file <span class=\"token operator\">==</span> null<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">try</span>\n                    <span class=\"token punctuation\">{</span>\n                        jfc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JFileChooser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        jfc<span class=\"token punctuation\">.</span><span class=\"token function\">setCurrentDirectory</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        jsb <span class=\"token operator\">=</span> JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showInputDialog</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入文件名：\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".txt\"</span><span class=\"token punctuation\">;</span>\n\n                        jfc<span class=\"token punctuation\">.</span><span class=\"token function\">setSelectedFile</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>jsb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        jfc<span class=\"token punctuation\">.</span><span class=\"token function\">setFileFilter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">int</span> temp <span class=\"token operator\">=</span> jfc<span class=\"token punctuation\">.</span><span class=\"token function\">showSaveDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 获取当前对象</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>temp <span class=\"token operator\">==</span> jfc<span class=\"token punctuation\">.</span>APPROVE_OPTION<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 获得选中的文件对象</span>\n                        <span class=\"token punctuation\">{</span>\n                            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span>\n                                file<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                            file <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>jfc<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> jsb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                            file<span class=\"token punctuation\">.</span><span class=\"token function\">createNewFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                            FileWriter fw <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileWriter</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                            fw<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                            fw<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e2<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">{</span>\n                        JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span>\n                <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">try</span>\n                    <span class=\"token punctuation\">{</span>\n                        FileWriter fw <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileWriter</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        fw<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        fw<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e3<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">{</span>\n                        JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt14<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 另存为选项</span>\n        <span class=\"token punctuation\">{</span>\n            jfc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JFileChooser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                jfc<span class=\"token punctuation\">.</span><span class=\"token function\">setCurrentDirectory</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">try</span>\n                <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file <span class=\"token operator\">==</span> null<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">{</span>\n                        jsb <span class=\"token operator\">=</span> JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showInputDialog</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入文件名：\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".txt\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span>\n                        jsb <span class=\"token operator\">=</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    jfc<span class=\"token punctuation\">.</span><span class=\"token function\">setSelectedFile</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>jsb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    jfc<span class=\"token punctuation\">.</span><span class=\"token function\">setFileFilter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">int</span> temp <span class=\"token operator\">=</span> jfc<span class=\"token punctuation\">.</span><span class=\"token function\">showSaveDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>temp <span class=\"token operator\">==</span> jfc<span class=\"token punctuation\">.</span>APPROVE_OPTION<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 获得选中的文件对象</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span>\n                            file<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        file <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>jfc<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> jsb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        file<span class=\"token punctuation\">.</span><span class=\"token function\">createNewFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        FileWriter fw <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileWriter</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        fw<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        fw<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e4<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> e4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt15<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 退出选项</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> state <span class=\"token operator\">=</span> JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showConfirmDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> <span class=\"token string\">\"您确定要退出？退出前请确定您的文件已保存\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>state <span class=\"token operator\">==</span> JOptionPane<span class=\"token punctuation\">.</span>OK_OPTION<span class=\"token punctuation\">)</span>\n                System<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt21<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 撤销选项</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">canUndo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    manager<span class=\"token punctuation\">.</span><span class=\"token function\">undo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt22<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 剪切选项</span>\n        <span class=\"token punctuation\">{</span>\n            area<span class=\"token punctuation\">.</span><span class=\"token function\">cut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt23<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 复制选项</span>\n        <span class=\"token punctuation\">{</span>\n            area<span class=\"token punctuation\">.</span><span class=\"token function\">copy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt24<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 粘贴选项</span>\n        <span class=\"token punctuation\">{</span>\n            area<span class=\"token punctuation\">.</span><span class=\"token function\">paste</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt25<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 删除选项 使用空格替换文本</span>\n        <span class=\"token punctuation\">{</span>\n            area<span class=\"token punctuation\">.</span><span class=\"token function\">replaceRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectionStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectionEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt31<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 自动换行</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\" spellcheck=\"true\">//if (mt31.getState())</span>\n                <span class=\"token comment\" spellcheck=\"true\">//area.setLineWrap(true);</span>\n            <span class=\"token comment\" spellcheck=\"true\">//else</span>\n                <span class=\"token comment\" spellcheck=\"true\">//area.setLineWrap(false);</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt32<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 字体选择</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\" spellcheck=\"true\">/* 获取本地图形环境 */</span>\n            GraphicsEnvironment gr <span class=\"token operator\">=</span> GraphicsEnvironment<span class=\"token punctuation\">.</span><span class=\"token function\">getLocalGraphicsEnvironment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\" spellcheck=\"true\">/* 字体名称列表框 */</span>\n            JList fontnames <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JList</span><span class=\"token punctuation\">(</span>gr<span class=\"token punctuation\">.</span><span class=\"token function\">getAvailableFontFamilyNames</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\" spellcheck=\"true\">/* JScrollPane 管理视口、可选的垂直和水平滚动条以及可选的行和列标题视口 */</span>\n            <span class=\"token keyword\">int</span> selection <span class=\"token operator\">=</span> JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showConfirmDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JScrollPane</span><span class=\"token punctuation\">(</span>fontnames<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"请选择字体\"</span><span class=\"token punctuation\">,</span>JOptionPane<span class=\"token punctuation\">.</span>OK_CANCEL_OPTION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            Object selectedFont <span class=\"token operator\">=</span> fontnames<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectedValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selection <span class=\"token operator\">==</span> JOptionPane<span class=\"token punctuation\">.</span>OK_OPTION <span class=\"token operator\">&amp;&amp;</span> selectedFont <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                area<span class=\"token punctuation\">.</span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Font</span><span class=\"token punctuation\">(</span>fontnames<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectedValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Font<span class=\"token punctuation\">.</span>PLAIN<span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt33<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 查找 || 替换 选项</span>\n        <span class=\"token punctuation\">{</span>\n            JDialog search <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            search<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            search<span class=\"token punctuation\">.</span><span class=\"token function\">setLocation</span><span class=\"token punctuation\">(</span><span class=\"token number\">450</span><span class=\"token punctuation\">,</span> <span class=\"token number\">350</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            JLabel label_1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JLabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"查找的内容\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            JLabel label_2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JLabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"替换的内容\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            JTextField textField_1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JTextField</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            JTextField textField_2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JTextField</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            JButton buttonFind <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"查找下一个\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            JButton buttonChange <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"替换\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            JPanel panel <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JPanel</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">GridLayout</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            panel<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>label_1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            panel<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>textField_1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            panel<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>buttonFind<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            panel<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>label_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            panel<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>textField_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            panel<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>buttonChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            search<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>panel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            search<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// 为查找下一个 按钮绑定监听事件</span>\n            buttonFind<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ActionListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">actionPerformed</span><span class=\"token punctuation\">(</span>ActionEvent e<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    String findText <span class=\"token operator\">=</span> textField_1<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\" spellcheck=\"true\">// 查找的字符</span>\n                    String textArea <span class=\"token operator\">=</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\" spellcheck=\"true\">// 当前文本框的内容</span>\n\n                    start <span class=\"token operator\">=</span> textArea<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>findText<span class=\"token punctuation\">,</span> end<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    end <span class=\"token operator\">=</span> start <span class=\"token operator\">+</span> findText<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>start <span class=\"token operator\">==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 没有找到</span>\n                    <span class=\"token punctuation\">{</span>\n                        JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> <span class=\"token string\">\"没找到\"</span> <span class=\"token operator\">+</span> findText<span class=\"token punctuation\">,</span> <span class=\"token string\">\"记事本\"</span><span class=\"token punctuation\">,</span> JOptionPane<span class=\"token punctuation\">.</span>WARNING_MESSAGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        area<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>start<span class=\"token punctuation\">,</span> end<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span>\n                    <span class=\"token punctuation\">{</span>\n                        area<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>start<span class=\"token punctuation\">,</span> end<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// 为替换按钮绑定监听时间</span>\n            buttonChange<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ActionListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">actionPerformed</span><span class=\"token punctuation\">(</span>ActionEvent e<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    String changeText <span class=\"token operator\">=</span> textField_2<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\" spellcheck=\"true\">// 替换的字符串</span>\n                    <span class=\"token comment\" spellcheck=\"true\">/* 如果选定文件为真 */</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectionStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectionEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                        area<span class=\"token punctuation\">.</span><span class=\"token function\">replaceRange</span><span class=\"token punctuation\">(</span>changeText<span class=\"token punctuation\">,</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectionStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> area<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectionEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt41<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 字体颜色</span>\n        <span class=\"token punctuation\">{</span>\n            JColorChooser cc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JColorChooser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            Color c <span class=\"token operator\">=</span> cc<span class=\"token punctuation\">.</span><span class=\"token function\">showDialog</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"选择颜色\"</span><span class=\"token punctuation\">,</span> Color<span class=\"token punctuation\">.</span>blue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            area<span class=\"token punctuation\">.</span><span class=\"token function\">setForeground</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt42<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 背景颜色 </span>\n        <span class=\"token punctuation\">{</span>\n            JColorChooser cc<span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JColorChooser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            Color c <span class=\"token operator\">=</span> cc<span class=\"token punctuation\">.</span><span class=\"token function\">showDialog</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"选择颜色\"</span><span class=\"token punctuation\">,</span> Color<span class=\"token punctuation\">.</span>green<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            area<span class=\"token punctuation\">.</span><span class=\"token function\">setBackground</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt43<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 关于记事本</span>\n        <span class=\"token punctuation\">{</span>\n            JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> <span class=\"token string\">\"记事本\\n开发语言：JAVA\\n开发者：赵晓龙\\n联系方式：muyiio@outlook.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"关于\"</span><span class=\"token punctuation\">,</span>\n            JOptionPane<span class=\"token punctuation\">.</span>PLAIN_MESSAGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> mt51<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// 帮助选项</span>\n        <span class=\"token punctuation\">{</span>\n            JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span> <span class=\"token string\">\"详细代码请移步\\n博客：https://yshawlon.cn/\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"帮助\"</span><span class=\"token punctuation\">,</span> JOptionPane<span class=\"token punctuation\">.</span>PLAIN_MESSAGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>    \n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>tools  类：</strong></p>\n<pre class=\"line-numbers language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">tools</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 字符串去无效字符(空格，制表符，换行，标点等)后的长度.</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">replaceBlank</span><span class=\"token punctuation\">(</span>String str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        String dest <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>str <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">// 如果文本不为空则计数</span>\n            str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replaceAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[\\\\pP‘’“”]\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n            dest <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replaceAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\\s*|\\t|\\r|\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> dest<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// 返回文本的有效长度</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","excerpt":"","more":"<h3 id=\"概述：\"><a href=\"#概述：\" class=\"headerlink\" title=\"概述：\"></a>概述：</h3><p>大二下的Java课程设计，仿的Windows记事本，使用Java Swing组件开发。</p>\n<p><strong>重要的：</strong></p>\n<ul>\n<li><p>新建、打开、保存、另存为、退出询问</p>\n</li>\n<li><p>剪切、复制、粘贴、删除</p>\n</li>\n<li><p>字体设置、背景色、字体颜色、编码格式</p>\n</li>\n<li><p>…</p>\n</li>\n<li><p>常用快捷键</p>\n</li>\n<li><p>CTRL + 滚轮 改变字体大小</p>\n</li>\n<li><p>工具栏显示 当前时间 + 字体大小 + 字数统计</p>\n</li>\n<li><p>全局字体设置</p>\n</li>\n<li><p>Windows文件窗口风格</p>\n</li>\n</ul>\n<h3 id=\"代码：\"><a href=\"#代码：\" class=\"headerlink\" title=\"代码：\"></a>代码：</h3><p><strong>Demo 类：</strong></p>\n<pre><code class=\"java\">import javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\nclass Demo\n{\n    public static void main(String [] args)\n    {\n        // 生成Windows风格的UI界面\n        try {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException\n                | UnsupportedLookAndFeelException e) {\n            e.printStackTrace();\n        }\n        new NotePad();\n    }\n}</code></pre>\n<p><strong>NotePad 类：</strong></p>\n<pre><code class=\"java\">import java.io.*;\nimport java.awt.*;\nimport java.awt.Font;\nimport java.awt.event.*;\nimport java.util.Calendar;\nimport java.util.Enumeration;\nimport java.awt.event.ActionEvent;\nimport java.util.GregorianCalendar;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.*;\nimport javax.swing.undo.UndoManager;\nimport javax.swing.plaf.FontUIResource;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.event.UndoableEditEvent;\nimport javax.swing.event.UndoableEditListener;\n\npublic class NotePad extends JFrame implements ActionListener // extends继承JFrame类\n{\n    int start = 0, end = 0;\n    JMenuBar bar; \n    JMenu mu1, mu2, mu3, mu4, mu5;\n    JMenuItem mt11, mt12, mt13, mt14, mt15; \n    JMenuItem mt21, mt22, mt23, mt24, mt25;\n    JMenuItem mt31, mt32, mt33, mt34, mt35;\n    JMenuItem mt41, mt42, mt43;\n    JMenuItem mt51;\n\n    JRadioButton en_utf_8_Item = null;\n    JRadioButton en_gbk_Item = null;\n    JRadioButton de_utf_8_Item = null;\n    JRadioButton de_gbk_Item = null;\n\n    UndoManager manager; // 添加布局管理器\n    JFileChooser jfc; // 定义一个文件选择框\n    JTextArea area; // 定义一个文本框\n    JScrollPane jsp; // 定义一个视窗\n    File file;\n\n    // 底部状态栏\n    JLabel labelLeft, labelCenter, labelRight;\n    JToolBar jDown; // 定义一个工具栏\n\n    // 编码格式\n    String encode = &quot;UTF-8&quot;;\n    String decode = &quot;UTF-8&quot;;\n    String jsb = &quot;新建记事本&quot;;\n\n    // ctrl键是否按下\n    boolean key_ctrl = false;\n    // 是否在打开文件\n    boolean isOpen = false;\n    // 是否修改文件\n    boolean isChanged = false;\n    // 系统滚动条\n    MouseWheelListener sysWheel;\n    // 初始化文本域字体大小\n    Font f = new Font(&quot;Serif&quot;, 0, 23);\n\n    GregorianCalendar time = new GregorianCalendar(); // 定义一个标准时间\n    int hour = time.get(Calendar.HOUR_OF_DAY);\n    int min = time.get(Calendar.MINUTE);\n    int second = time.get(Calendar.SECOND);\n\n    public NotePad() \n    {\n        initFrame();\n        initGUI();\n    }\n\n    public void initFrame()\n    {\n        InitGlobalFont(new Font(&quot;宋体&quot;, Font.PLAIN, 20)); // 统一设置字体\n        setTitle(&quot;新建记事本&quot;);\n        setBounds(200, 100, 750, 900);    \n        // 加载Label的板块\n        this.launchLabel();        \n        Clock clock = new Clock();\n        clock.start();\n        setLocationRelativeTo(null); // 窗口居中显示\n        setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE); // 3设置JFram不要默认关闭，为了用对话框触发退出\n        setVisible(true);\n    }\n\n    public void initGUI()\n    {\n        bar = new JMenuBar();\n        mu1 = new JMenu(&quot;文件(F)&quot;);\n        mu2 = new JMenu(&quot;编辑(E)&quot;);\n        mu3 = new JMenu(&quot;格式(O)&quot;);\n        mu4 = new JMenu(&quot;查看(V)&quot;);\n        mu5 = new JMenu(&quot;帮助(H)&quot;);\n\n        mt11 = new JMenuItem(&quot;新建(N)   Ctrl+N&quot;);\n        mt12 = new JMenuItem(&quot;打开(O)   Ctrl+O&quot;);\n        mt13 = new JMenuItem(&quot;保存(S)   Ctrl+S&quot;);\n        mt14 = new JMenuItem(&quot;另存为(A)...&quot;);\n        mt15 = new JMenuItem(&quot;退出(X)&quot;);\n        mt11.addActionListener(this);\n        mt12.addActionListener(this);\n        mt13.addActionListener(this);\n        mt14.addActionListener(this);\n        mt15.addActionListener(this);\n\n        mt21 = new JMenuItem(&quot;撤销(U)   Ctrl+Z&quot;);\n        mt22 = new JMenuItem(&quot;剪切(T)   Ctrl+X&quot;);\n        mt23 = new JMenuItem(&quot;复制(C)   Ctrl+C&quot;);\n        mt24 = new JMenuItem(&quot;粘贴(P)   Ctrl+V&quot;);\n        mt25 = new JMenuItem(&quot;删除(L)   Del&quot;);\n        mt21.addActionListener(this);\n        mt22.addActionListener(this);\n        mt23.addActionListener(this);\n        mt24.addActionListener(this);\n        mt25.addActionListener(this);\n\n        mt31 = new JCheckBoxMenuItem(&quot;自动换行&quot;, true);\n        mt32 = new JMenuItem(&quot;字体选择(F)&quot;);\n        mt33 = new JMenuItem(&quot;替换(R)||查找(F)&quot;);\n        mt34 = new JMenu(&quot;编码&quot;);\n        mt35 = new JMenu(&quot;解码&quot;);\n        en_utf_8_Item = new JRadioButton(&quot;UTF-8&quot;,true);\n        en_gbk_Item = new JRadioButton(&quot;GBK&quot;,false);\n        de_utf_8_Item = new JRadioButton(&quot;UTF-8&quot;,true);\n        de_gbk_Item = new JRadioButton(&quot;GBK&quot;,false);\n        ButtonGroup group1 = new ButtonGroup(); \n        ButtonGroup group2 = new ButtonGroup();\n        mt31.addActionListener(this);\n        mt32.addActionListener(this);\n        mt33.addActionListener(this);\n\n        mt41 = new JMenuItem(&quot;字体颜色&quot;);\n        mt42 = new JMenuItem(&quot;背景颜色&quot;);\n        mt43 = new JMenuItem(&quot;关于记事本(About)&quot;);\n        mt41.addActionListener(this);\n        mt42.addActionListener(this);\n        mt43.addActionListener(this);\n\n        mt51 = new JMenuItem(&quot;帮助选项(H)&quot;);\n        mt51.addActionListener(this);\n\n        mu1.add(mt11);\n        mu1.add(mt12);\n        mu1.add(mt13);\n        mu1.add(mt14);\n        // 将默认大小的分隔符添加到工具栏的末尾\n        mu1.addSeparator();\n        mu1.add(mt15);\n        mu2.add(mt21);\n        mu2.add(mt22);\n        mu2.add(mt23);\n        mu2.add(mt24);\n        mu2.add(mt25);\n        mu3.add(mt31);\n        mu3.add(mt32);\n        mu3.add(mt33);\n        mu3.add(mt34);\n        mu3.add(mt35);\n        mu4.add(mt41);\n        mu4.add(mt42);\n        mu4.add(mt43);\n        mu5.add(mt51);\n        group1.add(en_utf_8_Item);\n        group1.add(en_gbk_Item);\n        group2.add(de_utf_8_Item);\n        group2.add(de_gbk_Item);\n        mt34.add(en_utf_8_Item);\n        mt34.add(en_gbk_Item);\n        mt35.add(de_utf_8_Item);\n        mt35.add(de_gbk_Item);\n\n        bar.add(mu1);\n        bar.add(mu2);\n        bar.add(mu3);\n        bar.add(mu4);\n        bar.add(mu5);\n\n        setJMenuBar(bar);\n\n        manager = new UndoManager(); // 撤销的监听器\n        area = new JTextArea();\n        jsp = new JScrollPane(area);\n        jfc = new JFileChooser();\n\n        area.setFont(f);\n        area.setCaretColor(Color.blue); // 光标颜色 \n        area.setSelectedTextColor(Color.blue); // 选中字体颜色 \n        area.setSelectionColor(Color.green); // 选中背景颜色\n        area.setLineWrap(true); // 是否换行  \n        area.setWrapStyleWord(true); // 当输入单词为行末时，换行以显示完整单词\n        area.setMargin(new Insets(3, 5, 3, 5)); // 文本区与边框的间距\n        add(jsp, BorderLayout.CENTER);\n        this.launchTextArea(); \n        // 全局按键事件监听\n        this.addKeyListener();\n        // 窗口的监听器\n        this.myaddWindowListener();\n    }\n\n    /* 统一设置字体，父界面设置之后，所有由父界面进入的子界面都不需要再次设置字体 */\n    private static void InitGlobalFont(Font font) {\n        FontUIResource fontRes = new FontUIResource(font);\n        //遍历字体集合元素\n        for (Enumeration&lt;Object&gt; keys = UIManager.getDefaults().keys(); keys.hasMoreElements();) { \n            Object key = keys.nextElement();\n            Object value = UIManager.get(key);\n            if (value instanceof FontUIResource) {\n                UIManager.put(key, fontRes);\n            }\n        }\n    }\n\n    /* 文件格式过滤器 */\n    public class filter extends javax.swing.filechooser.FileFilter // 继承 FileFilter 类\n    {\n        public boolean accept(File file)\n        {\n            String name = file.getName();\n            name.toString(); // 该字符串中的数字被转换为字符\n\n            /* 文件后缀是.txt且是个目录 */\n            if (name.endsWith(&quot;.txt&quot;) || file.isDirectory()) // 判断文件后缀\n            {\n                return true;\n            } else\n                return false;\n        }\n\n        /* 将引用具体子类的子类对象的方法,不可以省略类中的getDescription(),原因是编译器只允许调用在类中声明的方法. */\n        public String getDescription() \n        {\n            return &quot;.txt&quot;; // 返回文件名\n        }\n    }\n\n\n    /* 文本区域是否更改 */\n    private class change implements DocumentListener {\n        @Override\n        public void insertUpdate(DocumentEvent e) {\n            changedUpdate(e);\n        }\n\n        @Override\n        public void removeUpdate(DocumentEvent e) {\n            changedUpdate(e);\n        }\n\n        @Override\n        public void changedUpdate(DocumentEvent e) {\n            changed();\n        }\n\n        public void changed() {\n            if(!isOpen) {\n                isChanged = true;\n                // 统计字数\n                labelRight.setText(&quot;字数统计：&quot;  + tools.replaceBlank(area.getText())); // 调用外部方法\n            }\n        }\n    }\n\n    /* 打开文件保存对话框的方法，保存和另存为时调用此方法 */\n    public void openSaveDialog() {\n        int status = jfc.showSaveDialog(null);\n        BufferedWriter bw = null;\n        if (status == JFileChooser.APPROVE_OPTION) {\n            file = jfc.getSelectedFile();\n            try {\n                OutputStreamWriter fWriter = new OutputStreamWriter(new FileOutputStream(file),encode);\n                bw = new BufferedWriter(fWriter);\n                String[] strs = area.getText().split(&quot;\\n&quot;);\n                for (String str : strs) {\n                    bw.write(str);\n                    bw.newLine();\n                    bw.flush();\n                }\n            } catch (FileNotFoundException e1) {\n                area.setText(area.getText() + &#39;\\n&#39; + &quot;文件未找到&quot;);\n                e1.printStackTrace();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            } finally {\n                if (bw != null) {\n                    try {\n                        bw.close();\n                    } catch (IOException e1) {\n                        e1.printStackTrace();\n                    }\n                }\n                isChanged = false;\n                labelLeft.setText(&quot;状态：已保存&quot;);\n                this.setTitle(file.getName());\n            }\n        }\n    }\n\n    /* 不打开文件保存对话框直接按照当前文件保存的方法 */\n    public void onlySave() {\n        BufferedWriter bw = null;\n        try {\n            OutputStreamWriter fWriter = new OutputStreamWriter(new FileOutputStream(file),encode);\n            bw = new BufferedWriter(fWriter);\n            String[] strs = area.getText().split(&quot;\\n&quot;);\n            for (String str : strs) {\n                bw.write(str);\n                bw.newLine();\n                bw.flush();\n            }\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        } finally {\n            if (bw != null) {\n                try {\n                    bw.close();\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n            }\n            isChanged = false;\n            labelLeft.setText(&quot;状态：已保存&quot;);\n            this.setTitle(file.getName());\n        }\n    }\n\n    /* 窗口的监听器，在退出时弹窗 */\n    public void myaddWindowListener() {\n        this.addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent e) {\n                // 如果修改未保存弹出对话框，保存了则直接退出\n                if (isChanged == false) {\n                    System.exit(0);\n                } else if (file == null) {\n                    new JOptionPane();\n                    int result = JOptionPane.showConfirmDialog(null, &quot;文件还未保存，是否保存&quot;, &quot;提示&quot;,\n                            JOptionPane.YES_NO_CANCEL_OPTION);\n                    // 选择是的时候调用保存文件的文件选择对话框,否的时候直接退出\n                    if (result == JOptionPane.YES_OPTION) {\n                        openSaveDialog();\n                    } else if (result == JOptionPane.NO_OPTION) {\n                        System.exit(0);\n                    }\n                } else if (file != null) {\n                    new JOptionPane();\n                    int result = JOptionPane.showConfirmDialog(null, &quot;文件还未保存，是否保存到&quot; + file.getPath(), &quot;提示&quot;,\n                            JOptionPane.YES_NO_CANCEL_OPTION);\n                    // 选择是的时候直接保存,否的时候直接退出\n                    if (result == JOptionPane.YES_OPTION) {\n                        onlySave();\n                    } else if (result == JOptionPane.NO_OPTION) {\n                        System.exit(0);\n                    }\n                }\n            }\n        });\n    }\n\n    /* 全局按键事件监听 */\n    public void addKeyListener() {\n        Toolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener() {\n            public void eventDispatched(AWTEvent event) {\n                if (((KeyEvent) event).getID() == KeyEvent.KEY_RELEASED) {\n                    int key = ((KeyEvent) event).getKeyCode();\n                    // System.out.println(key);\n                    if (key == 17) {\n                        key_ctrl = false; // 初始化 CTRL 状态为 false\n                    }\n                }\n                if (((KeyEvent) event).getID() == KeyEvent.KEY_PRESSED) {\n                    int key = ((KeyEvent) event).getKeyCode();\n                    // System.out.println(key);\n                    if (key == 17) {\n                        key_ctrl = true; // 表示已经按下 CTRL\n                    }\n                    if (key == 78 &amp;&amp; key_ctrl == true) {\n                        System.out.println(&quot;ctrl + n&quot;); // 控制台输出所按的键\n                        if (manager.canRedo()) { // 新建文件\n                            area.setText(&quot;&quot;);\n                        }\n                    }\n                    if (key == 79 &amp;&amp; key_ctrl == true) {\n                        System.out.println(&quot;ctrl + o&quot;);\n                        if (manager.canRedo()) { // 打开文件\n\n                        }\n                    }\n                    if (key == 83 &amp;&amp; key_ctrl == true) {\n                        System.out.println(&quot;ctrl + s&quot;);\n                        if (file == null) { // 如果文本为空则打开文件，否则保存文件\n                            openSaveDialog();\n                        } else {\n                            onlySave();\n                        }\n                    }\n                    if (key == 83 &amp;&amp; key_ctrl == true) {\n                        if (key == 16) {\n                            System.out.println(&quot;ctrl + shift + s&quot;);\n                            onlySave(); // 另存为...\n                        }\n\n                    }\n                    if (key == 90 &amp;&amp; key_ctrl == true) {\n                        System.out.println(&quot;ctrl + z&quot;);\n                        if (manager.canUndo()) { // 撤销\n                            manager.undo();\n                        }\n                    }\n                    if (key == 88 &amp;&amp; key_ctrl == true) {\n                        System.out.println(&quot;ctrl + x&quot;);\n                        if (manager.canRedo()) { // 剪切\n                            manager.redo();\n                        }\n                    }\n                    if (key == 67 &amp;&amp; key_ctrl == true) {\n                        System.out.println(&quot;ctrl + c&quot;);\n                        if (manager.canRedo()) { // 复制\n                            manager.redo();\n                        }\n                    }\n                    if (key == 86 &amp;&amp; key_ctrl == true) {\n                        System.out.println(&quot;ctrl + v&quot;);\n                        if (manager.canRedo()) { // 粘贴\n                            manager.redo();\n                        }\n                    }\n                    if (key == 127) {\n                        System.out.println(&quot;Delete&quot;);\n                        if (manager.canRedo()) { // 删除\n                            // 删除选定范围内的文本\n                            area.replaceRange(&quot;&quot;, area.getSelectionStart(), area.getSelectionEnd());\n                        }\n                    }\n                }\n            }\n        }, AWTEvent.KEY_EVENT_MASK);\n    }\n\n    /* 加载文本域 */\n    public void launchTextArea() {\n        // 监听状态改变\n        area.getDocument().addDocumentListener(new change());\n        // 监听撤销\n        area.getDocument().addUndoableEditListener(new UndoableEditListener() {// 注册撤销可编辑监听器\n            public void undoableEditHappened(UndoableEditEvent e) {\n                manager.addEdit(e.getEdit());\n            }\n        });// 编辑撤销的监听\n        // 文本域滚动条\n        jsp = new JScrollPane(area);\n        //jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS); //把滚动条全局作用在视窗 -_-难看\n        sysWheel = jsp.getMouseWheelListeners()[0]; // 得到系统滚动事件\n        jsp.removeMouseWheelListener(sysWheel); // 移除系统滚动，需要时添加\n        jsp.addMouseWheelListener(new event());\n        add(jsp, BorderLayout.CENTER);\n    }\n\n    /* Ctrl + 鼠标改变字体 */\n    public class event extends MouseAdapter {\n        @Override\n        public void mouseWheelMoved(MouseWheelEvent e) {\n            if (e.isControlDown()) {// 当ctrl键被按下，滚动为放大缩小\n                // System.out.println(e.getWheelRotation());\n                if (e.getWheelRotation() &lt; 0 &amp;&amp; f.getSize() &lt; 60) {// 如果滚动条向前就放大文本\n                    f = new Font(f.getFamily(), f.getStyle(), f.getSize() + 1);\n                    area.setFont(f);\n                } else if (e.getWheelRotation() &gt; 0 &amp;&amp; f.getSize() &gt; 0) {// 滚动条向后就缩小文本\n                    f = new Font(f.getFamily(), f.getStyle(), f.getSize() - 1);\n                    area.setFont(f);\n                }\n                labelCenter.setText(&quot;字体大小：&quot; + f.getSize());\n            } else {// 当ctrl没有被按下，则为系统滚动\n                jsp.addMouseWheelListener(sysWheel);\n                sysWheel.mouseWheelMoved(e);// 触发系统滚动事件。\n                jsp.removeMouseWheelListener(sysWheel);\n            }\n        }\n    }\n\n    /* 模拟时钟 */\n    class Clock extends Thread\n    { \n        public void run()\n        {\n            while (true)\n            {\n                GregorianCalendar time = new GregorianCalendar();\n                int year = time.get(Calendar.YEAR);\n                int month = time.get(Calendar.MONTH); // 月份是从 0 开始，所以输出时要 + 1\n                int day = time.get(Calendar.DAY_OF_MONTH);\n                int hour = time.get(Calendar.HOUR_OF_DAY);\n                int min = time.get(Calendar.MINUTE);\n                int second = time.get(Calendar.SECOND);\n                // 设置时间格式完整格式：year + &quot;/&quot; + (month + 1) + &quot;/&quot; + day + &quot;  &quot; + hour + &quot;:&quot; + min + &quot;:&quot; + second\n                // 由于太长就不设置了，难看 -_-\n                labelLeft.setText(&quot; 当前时间：&quot; + hour + &quot;:&quot; + min + &quot;:&quot; + second);\n\n                try\n                {\n                    Thread.sleep(950);\n                }         \n                catch (InterruptedException exception){}\n            }\n        }\n    }\n\n    /* 底部工具栏 */\n    public void launchLabel() {\n        jDown = new JToolBar(); // 底部Label的板块\n        labelLeft = new JLabel(&quot; 当前时间：&quot; + hour + &quot;:&quot; + min + &quot;:&quot; + second);\n        labelCenter = new JLabel(&quot;字体大小：&quot; + f.getSize());\n        labelRight = new JLabel(&quot;字数统计：&quot; );\n        jDown.setLayout(new GridLayout(1, 3)); // 三行一列的意思\n        jDown.add(labelLeft);\n        jDown.add(labelCenter);\n        jDown.add(labelRight);\n        add(jDown, BorderLayout.SOUTH);\n        jDown.setVisible(true);\n    }\n\n    public void actionPerformed(ActionEvent e)\n    {\n        if (e.getSource() == mt11) // 新建选项\n        {\n            area.setText(&quot;&quot;);\n        } else if (e.getSource() == mt12) // 打开选项\n        {\n            JFileChooser fc = new JFileChooser(&quot;D:\\\\&quot;);\n            int d = fc.showOpenDialog(this);\n            if (d == 0)\n            {\n                try{\n                    File f = fc.getSelectedFile();\n                    FileReader fr = new FileReader(f);\n                    BufferedReader br = new BufferedReader(fr);\n                    String line = &quot;&quot;;\n                    while ((line = br.readLine()) != null)\n                    {\n                        area.append(line + &quot;\\n&quot;);\n                    }\n                    br.close();\n                    fr.close();\n                }\n                catch(FileNotFoundException e2)\n                {\n                    System.out.println(&quot;文件未找到&quot;);\n                }\n                catch(IOException e3)\n                {\n                    System.out.println(&quot;文件无法读取&quot;);\n                }\n            }\n\n        } else if (e.getSource() == mt13) // 保存选项\n        {\n            if (file == null)\n                {\n                    try\n                    {\n                        jfc = new JFileChooser();\n                        jfc.setCurrentDirectory(null);\n                        jsb = JOptionPane.showInputDialog(&quot;请输入文件名：&quot;) + &quot;.txt&quot;;\n\n                        jfc.setSelectedFile(new File(jsb));\n                        jfc.setFileFilter(new filter());\n                        int temp = jfc.showSaveDialog(null); // 获取当前对象\n                        if (temp == jfc.APPROVE_OPTION) // 获得选中的文件对象\n                        {\n                            if (file != null)\n                                file.delete();\n                            file = new File(jfc.getCurrentDirectory(), jsb);\n                            file.createNewFile();\n                            FileWriter fw = new FileWriter(file);\n                            fw.write(area.getText());\n                            fw.close();\n                        }\n                    } catch (Exception e2)\n                    {\n                        JOptionPane.showMessageDialog(null, e);\n                    }\n                } else\n                {\n                    try\n                    {\n                        FileWriter fw = new FileWriter(file);\n                        fw.write(area.getText());\n                        fw.close();\n                    } catch (Exception e3)\n                    {\n                        JOptionPane.showMessageDialog(null, e);\n                    }\n                }\n        } else if(e.getSource() == mt14) // 另存为选项\n        {\n            jfc = new JFileChooser();\n                jfc.setCurrentDirectory(new File(&quot;.&quot;));\n                try\n                {\n                    if (file == null)\n                    {\n                        jsb = JOptionPane.showInputDialog(&quot;请输入文件名：&quot;) + &quot;.txt&quot;;\n                    } else\n                        jsb = file.getName();\n                    jfc.setSelectedFile(new File(jsb));\n                    jfc.setFileFilter(new filter());\n                    int temp = jfc.showSaveDialog(null);\n                    if (temp == jfc.APPROVE_OPTION) // 获得选中的文件对象\n                    {\n                        if (file != null)\n                            file.delete();\n                        file = new File(jfc.getCurrentDirectory(), jsb);\n                        file.createNewFile();\n                        FileWriter fw = new FileWriter(file);\n                        fw.write(area.getText());\n                        fw.close();\n                    }\n                } catch (Exception e4)\n                {\n                    JOptionPane.showMessageDialog(null, e4);\n                }\n\n        } else if (e.getSource() == mt15) // 退出选项\n        {\n            int state = JOptionPane.showConfirmDialog(null, &quot;您确定要退出？退出前请确定您的文件已保存&quot;);\n            if (state == JOptionPane.OK_OPTION)\n                System.exit(0);\n        } else if (e.getSource() == mt21) // 撤销选项\n        {\n            if (manager.canUndo())\n                    manager.undo();\n        } else if (e.getSource() == mt22) // 剪切选项\n        {\n            area.cut();\n        } else if (e.getSource() == mt23) // 复制选项\n        {\n            area.copy();\n        } else if (e.getSource() == mt24) // 粘贴选项\n        {\n            area.paste();\n        } else if (e.getSource() == mt25) // 删除选项 使用空格替换文本\n        {\n            area.replaceRange(&quot;&quot;, area.getSelectionStart(), area.getSelectionEnd());\n        } else if (e.getSource() == mt31) // 自动换行\n        {\n            //if (mt31.getState())\n                //area.setLineWrap(true);\n            //else\n                //area.setLineWrap(false);\n        } else if (e.getSource() == mt32) // 字体选择\n        {\n            /* 获取本地图形环境 */\n            GraphicsEnvironment gr = GraphicsEnvironment.getLocalGraphicsEnvironment();\n            /* 字体名称列表框 */\n            JList fontnames = new JList(gr.getAvailableFontFamilyNames());\n            /* JScrollPane 管理视口、可选的垂直和水平滚动条以及可选的行和列标题视口 */\n            int selection = JOptionPane.showConfirmDialog(null, new JScrollPane(fontnames), &quot;请选择字体&quot;,JOptionPane.OK_CANCEL_OPTION);\n            Object selectedFont = fontnames.getSelectedValue();\n            if (selection == JOptionPane.OK_OPTION &amp;&amp; selectedFont != null)\n            {\n                area.setFont(new Font(fontnames.getSelectedValue().toString(), Font.PLAIN, 20));\n            }\n        } else if (e.getSource() == mt33) // 查找 || 替换 选项\n        {\n            JDialog search = new JDialog();\n            search.setSize(300, 100);\n            search.setLocation(450, 350);\n            JLabel label_1 = new JLabel(&quot;查找的内容&quot;);\n            JLabel label_2 = new JLabel(&quot;替换的内容&quot;);\n            JTextField textField_1 = new JTextField(5);\n            JTextField textField_2 = new JTextField(5);\n            JButton buttonFind = new JButton(&quot;查找下一个&quot;);\n            JButton buttonChange = new JButton(&quot;替换&quot;);\n            JPanel panel = new JPanel(new GridLayout(2, 3));\n            panel.add(label_1);\n            panel.add(textField_1);\n            panel.add(buttonFind);\n            panel.add(label_2);\n            panel.add(textField_2);\n            panel.add(buttonChange);\n            search.add(panel);\n            search.setVisible(true);\n\n            // 为查找下一个 按钮绑定监听事件\n            buttonFind.addActionListener(new ActionListener()\n            {\n                public void actionPerformed(ActionEvent e)\n                {\n                    String findText = textField_1.getText();// 查找的字符\n                    String textArea = area.getText();// 当前文本框的内容\n\n                    start = textArea.indexOf(findText, end);\n                    end = start + findText.length();\n                    if (start == -1) // 没有找到\n                    {\n                        JOptionPane.showMessageDialog(null, &quot;没找到&quot; + findText, &quot;记事本&quot;, JOptionPane.WARNING_MESSAGE);\n                        area.select(start, end);\n                    } else\n                    {\n                        area.select(start, end);\n                    }\n\n                }\n            });\n\n            // 为替换按钮绑定监听时间\n            buttonChange.addActionListener(new ActionListener()\n            {\n                public void actionPerformed(ActionEvent e)\n                {\n                    String changeText = textField_2.getText();// 替换的字符串\n                    /* 如果选定文件为真 */\n                    if (area.getSelectionStart() != area.getSelectionEnd())\n                        area.replaceRange(changeText, area.getSelectionStart(), area.getSelectionEnd());\n                }\n            });\n        } else if (e.getSource() == mt41) // 字体颜色\n        {\n            JColorChooser cc = new JColorChooser();\n            Color c = cc.showDialog(this, &quot;选择颜色&quot;, Color.blue);\n            area.setForeground(c);\n        } else if (e.getSource() == mt42) // 背景颜色 \n        {\n            JColorChooser cc= new JColorChooser();\n            Color c = cc.showDialog(this, &quot;选择颜色&quot;, Color.green);\n            area.setBackground(c);\n        } else if (e.getSource() == mt43) // 关于记事本\n        {\n            JOptionPane.showMessageDialog(null, &quot;记事本\\n开发语言：JAVA\\n开发者：赵晓龙\\n联系方式：muyiio@outlook.com&quot;, &quot;关于&quot;,\n            JOptionPane.PLAIN_MESSAGE);\n        } else if (e.getSource() == mt51) // 帮助选项\n        {\n            JOptionPane.showMessageDialog(null, &quot;详细代码请移步\\n博客：https://yshawlon.cn/&quot;, &quot;帮助&quot;, JOptionPane.PLAIN_MESSAGE);\n        }\n    }    \n}</code></pre>\n<p><strong>tools  类：</strong></p>\n<pre><code class=\"java\">public class tools {\n    // 字符串去无效字符(空格，制表符，换行，标点等)后的长度.\n    public static int replaceBlank(String str) {\n        String dest = &quot;&quot;;\n        if (str != null) { // 如果文本不为空则计数\n            str = str.replaceAll(&quot;[\\\\pP‘’“”]&quot;, &quot;&quot;); \n            dest = str.replaceAll(&quot;\\\\s*|\\t|\\r|\\n&quot;, &quot;&quot;); \n        }\n        return dest.length(); // 返回文本的有效长度\n    }\n}</code></pre>\n","path":"shi-yong-java-kai-fa-yi-ge-ji-shi-ben.html","permalink":"https://www.yshawlon.cn/shi-yong-java-kai-fa-yi-ge-ji-shi-ben.html","tags":[{"name":"Demo","_id":"clq6dy4bd005gikw0m6ofs27d","slug":"Demo","path":"tags/Demo/","permalink":"https://www.yshawlon.cn/tags/Demo/","length":1},{"name":"Notepad","_id":"clq6dy4be005iikw0odqnpwzh","slug":"Notepad","path":"tags/Notepad/","permalink":"https://www.yshawlon.cn/tags/Notepad/","length":1}],"categories":[{"name":"Java","_id":"clq6dy4b00049ikw0qslmlfml","slug":"Java","path":"categories/Java/","permalink":"https://www.yshawlon.cn/categories/Java/","length":2}],"prev":{"title":"暑假LeetCode刷题集合（下）","date":"2021-07-27T08:48:27.000Z","summary":"不知不觉就已经一个月了，对基本的算法熟悉了很多，争取再坚持一个月hh","slug":"暑假LeetCode刷题集合（下）","published":true,"updated":"2022-05-23T15:24:45.762Z","_id":"clq6dy4ar003pikw0vg0q3poc","layout":"post","photos":[],"link":"","excerpt":"","path":"shu-jia-leetcode-shua-ti-ji-he-xia.html","permalink":"https://www.yshawlon.cn/shu-jia-leetcode-shua-ti-ji-he-xia.html","__post":true},"next":{"title":"暑假LeetCode刷题集合（上）","date":"2021-06-27T13:12:16.000Z","summary":"练习一下算法，由于单个文章新建太麻烦了，索性把一个月的放在一起。","slug":"暑假LeetCode刷题集合（上）","published":true,"updated":"2021-10-20T13:18:37.250Z","_id":"clq6dy4bv0067ikw0ck478qbn","layout":"post","photos":[],"link":"","excerpt":"","path":"shu-jia-leetcode-shua-ti-ji-he-shang.html","permalink":"https://www.yshawlon.cn/shu-jia-leetcode-shua-ti-ji-he-shang.html","__post":true},"__post":true}